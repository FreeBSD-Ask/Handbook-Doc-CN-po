# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR The FreeBSD Project
# This file is distributed under the same license as the FreeBSD Documentation package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: FreeBSD Documentation VERSION\n"
"POT-Creation-Date: 2022-03-11 20:57+0800\n"
"PO-Revision-Date: 2022-04-02 09:05+0800\n"
"Last-Translator: \n"
"Language-Team: \n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"X-Generator: Poedit 3.0.1\n"

#. type: YAML Front Matter: description
#: content/zh-cn/books/handbook/ports/_index.adoc:1
#, no-wrap
msgid "FreeBSD provides two complementary technologies for installing third-party software: the FreeBSD Ports Collection, for installing from source, and packages, for installing from pre-built binaries"
msgstr "FreeBSD 还提供了两种互补的技术来安装第三方软件：用于从源代码安装的 FreeBSD Ports Collection，以及用于从预先构建的二进制文件安装包。"

#. type: YAML Front Matter: part
#: content/zh-cn/books/handbook/ports/_index.adoc:1
#, no-wrap
msgid "Part I. Getting Started"
msgstr "第一部分：快速开始"

#. type: YAML Front Matter: title
#: content/zh-cn/books/handbook/ports/_index.adoc:1
#, no-wrap
msgid "Chapter 4. Installing Applications: Packages and Ports"
msgstr "第4章 安装应用程序: Package 和 Port"

#. type: Title =
#: content/zh-cn/books/handbook/ports/_index.adoc:14
#, no-wrap
msgid "Installing Applications: Packages and Ports"
msgstr "安装应用程序: Package 和 Port"

#. type: Title ==
#: content/zh-cn/books/handbook/ports/_index.adoc:52
#, no-wrap
msgid "Synopsis"
msgstr "概述"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:58
msgid ""
"FreeBSD is bundled with a rich collection of system tools as part of the base system.  In addition, FreeBSD provides two complementary technologies for installing third-party software: the FreeBSD "
"Ports Collection, for installing from source, and packages, for installing from pre-built binaries.  Either method may be used to install software from local media or from the network."
msgstr ""
"FreeBSD 在基本系统中捆绑了丰富的系统工具集。此外，FreeBSD 还提供了两种互补的技术来安装第三方软件：用于从源代码安装的 FreeBSD Ports Collection，以及用于从预先构建的二进制文件安装包。这两种方法都可以用来"
"从本地介质或网络上安装软件。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:60
msgid "After reading this chapter, you will know:"
msgstr "读完本章后，你将知道："

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:62
msgid "The difference between binary packages and ports."
msgstr "二进制包与 port 之间的区别。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:63
msgid "How to find third-party software that has been ported to FreeBSD."
msgstr "如何找到已经移植到 FreeBSD 上的第三方软件。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:64
msgid "How to manage binary packages using pkg."
msgstr "如何使用 pkg 来管理二进制包。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:65
msgid "How to build third-party software from source using the Ports Collection."
msgstr "如何使用 Ports Collection 从源代码构建第三方软件。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:66
msgid "How to find the files installed with the application for post-installation configuration."
msgstr "如何找到与应用程序一起安装的文件以进行安装后的配置。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:67
msgid "What to do if a software installation fails."
msgstr "如果软件安装失败该怎么办。"

#. type: Title ==
#: content/zh-cn/books/handbook/ports/_index.adoc:69
#, no-wrap
msgid "Overview of Software Installation"
msgstr "软件安装的概述"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:72
msgid "The typical steps for installing third-party software on a UNIX(R) system include:"
msgstr "在 UNIX(R) 系统上安装第三方软件的典型步骤包括："

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:75
msgid "Find and download the software, which might be distributed in source code format or as a binary."
msgstr "找到并下载该软件，它可能以源代码格式或二进制文件的形式分发。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:76
msgid "Unpack the software from its distribution format. This is typically a tarball compressed with a program such as man:compress[1], man:gzip[1], man:bzip2[1] or man:xz[1]."
msgstr "将软件从其发行格式中解压。他通常是一个用 man:compress[1]、 man:gzip[1]、 man:bzip2[1] 或 man:xz[1] 等程序压缩的 tarball。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:77
msgid "Locate the documentation in [.filename]#INSTALL#, [.filename]#README# or some file in a [.filename]#doc/# subdirectory and read up on how to install the software."
msgstr "找到 [.filename]#INSTALL#、 [.filename]#README# 或 [.filename]#doc/# 子目录中的一些文件，并阅读如何安装该软件。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:78
msgid "If the software was distributed in source format, compile it. This may involve editing a [.filename]#Makefile# or running a `configure` script."
msgstr "如果软件是以源码格式发布的，则编译它。这可能涉及编辑 [.filename]#Makefile# 或运行 `configure` 脚本。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:79
msgid "Test and install the software."
msgstr "测试并安装该软件。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:82
msgid ""
"A FreeBSD _port_ is a collection of files designed to automate the process of compiling an application from source code.  The files that comprise a port contain all the necessary information to "
"automatically download, extract, patch, compile, and install the application."
msgstr "FreeBSD _port_ 是一组文件的集合，旨在自动完成从源代码编译应用程序的过程。组成 port 的文件包含了自动下载、解压缩、打补丁、编译和安装应用程序的所有必要信息。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:84
msgid "If the software has not already been adapted and tested on FreeBSD, the source code might need editing in order for it to install and run properly."
msgstr "如果该软件尚未在 FreeBSD 上进行改编和测试，则可能需要对源代码进行编辑，以使其能够正常安装和运行。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:87
msgid ""
"However, over link:https://www.FreeBSD.org/ports/[{numports}] third-party applications have already been ported to FreeBSD.  When feasible, these applications are made available for download as pre-"
"compiled _packages_."
msgstr "然而，已经有超过 link:https://www.FreeBSD.org/ports/[{numports}] 个第三方应用程序被移植到了 FreeBSD。在可行的情况下，这些应用程序会以预编译 _包_ 的形式提供给大家下载。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:89
msgid "Packages can be manipulated with the FreeBSD package management commands."
msgstr "软件包可以通过 FreeBSD 的软件包管理命令来操作。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:92
msgid ""
"Both packages and ports understand dependencies.  If a package or port is used to install an application and a dependent library is not already installed, the library will automatically be installed "
"first."
msgstr "包和 port 都能理解依赖关系。如果一个软件包或 port 被用来安装一个应用程序，而所依赖的库还没有安装，那么这个库就会自动先被安装。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:95
msgid ""
"A FreeBSD package contains pre-compiled copies of all the commands for an application, as well as any configuration files and documentation.  A package can be manipulated with the man:pkg[8] commands, "
"such as `pkg install`."
msgstr "一个 FreeBSD 软件包包含了一个应用程序的所有命令的预编译副本，以及任何配置文件和文档。一个包可以用 man:pkg[8] 命令来操作，比如 `pkg install`。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:98
msgid "While the two technologies are similar, packages and ports each have their own strengths.  Select the technology that meets your requirements for installing a particular application."
msgstr "虽然这两种技术是相似的，但包和 ports 都有自己的长处。选择符合你安装特定应用程序的要求的技术。"

#. type: Block title
#: content/zh-cn/books/handbook/ports/_index.adoc:99
#, no-wrap
msgid "Package Benefits"
msgstr "二进制包的好处"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:101
msgid "A compressed package tarball is typically smaller than the compressed tarball containing the source code for the application."
msgstr "压缩包的 tarball 通常比包含应用程序的源代码的压缩 tarball 小。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:102
msgid "Packages do not require compilation time. For large applications, such as Mozilla, KDE, or GNOME, this can be important on a slow system."
msgstr "软件包不需要编译时间。对于大型的应用程序，如 Mozilla、KDE 或 GNOME，这在慢速系统中可能很重要。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:103
msgid "Packages do not require any understanding of the process involved in compiling software on FreeBSD."
msgstr "打包不需要了解在 FreeBSD 上编译软件的过程。"

#. type: Block title
#: content/zh-cn/books/handbook/ports/_index.adoc:104
#, no-wrap
msgid "Port Benefits"
msgstr "Port 的好处"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:106
msgid "Packages are normally compiled with conservative options because they have to run on the maximum number of systems. By compiling from the port, one can change the compilation options."
msgstr "软件包通常是用保守的选项编译的，因为它们必须在最大数量的系统上运行。通过从 port 编译，人们可以改变编译选项。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:107
msgid "Some applications have compile-time options relating to which features are installed. For example, Apache can be configured with a wide variety of different built-in options."
msgstr "一些应用程序有与安装哪些功能有关的编译时选项。例如，Apache 可以被配置成各种不同的内置选项。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:109
msgid ""
"In some cases, multiple packages will exist for the same application to specify certain settings. For example, Ghostscript is available as a [.filename]#ghostscript# package and a [."
"filename]#ghostscript-nox11# package, depending on whether or not Xorg is installed. Creating multiple packages rapidly becomes impossible if an application has more than one or two different compile-"
"time options."
msgstr ""
"在某些情况下，同一个应用程序会存在多个软件包来指定某些设置。例如，Ghostscript 可以作为一个 [.filename]#ghostscript# 包和一个 [.filename]#ghostscript-nox11# 包，这取决于是否安装了 Xorg。如果一个应用程序"
"有超过一个或两个不同的编译时选项，创建多个软件包很快就变得非常困难。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:110
msgid "The licensing conditions of some software forbid binary distribution. Such software must be distributed as source code which must be compiled by the end-user."
msgstr "一些软件的许可条件禁止二进制发布。这样的软件必须以源代码的形式发布，而源代码必须由终端用户编译。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:111
msgid "Some people do not trust binary distributions or prefer to read through source code in order to look for potential problems."
msgstr "有些人不相信二进制分发，或者喜欢通读源代码，以寻找潜在的问题。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:112
msgid "Source code is needed in order to apply custom patches."
msgstr "为了应用定制的补丁，需要源代码。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:114
msgid "To keep track of updated ports, subscribe to the {freebsd-ports} and the {freebsd-ports-bugs}."
msgstr "要跟踪更新的 ports，可以订阅 {freebsd-ports} 邮件列表 和 {freebsd-ports-bugs} 邮件列表。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:119
msgid ""
"Before installing any application, check https://vuxml.freebsd.org/[] for security issues related to the application or type `pkg audit -F` to check all installed applications for known "
"vulnerabilities."
msgstr "在安装任何应用程序之前，请检查 https://vuxml.freebsd.org/[] 以了解与该应用程序有关的安全问题，或键入 `pkg audit -F` 来检查所有已安装的应用程序是否存在已知的漏洞。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:122
msgid "The remainder of this chapter explains how to use packages and ports to install and manage third-party software on FreeBSD."
msgstr "本章的其余部分将解释如何使用软件包和 port 来安装和管理 FreeBSD 上的第三方软件。"

#. type: Title ==
#: content/zh-cn/books/handbook/ports/_index.adoc:124
#, no-wrap
msgid "Finding Software"
msgstr "寻找所需的应用程序"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:128
msgid "FreeBSD's list of available applications is growing all the time.  There are a number of ways to find software to install:"
msgstr "FreeBSD 的可用应用程序列表一直在增加。有很多方法可以找到要安装的软件："

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:130
msgid ""
"The FreeBSD web site maintains an up-to-date searchable list of all the available applications, at link:https://www.FreeBSD.org/ports/[https://www.FreeBSD.org/ports/]. The ports can be searched by "
"application name or by software category."
msgstr "FreeBSD 网站维护着一份最新的可搜索的所有可用应用程序的列表，网址是 link:https://www.FreeBSD.org/ports/[https://www.FreeBSD.org/ports/] 。可以通过应用程序名称或软件类别来搜索这些 ports。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:131
msgid ""
"Dan Langille maintains http://www.FreshPorts.org/[FreshPorts.org] which provides a comprehensive search utility and also tracks changes to the applications in the Ports Collection. Registered users "
"can create a customized watch list in order to receive an automated email when their watched ports are updated."
msgstr ""
"Dan Langille 维护着 http://www.FreshPorts.org/[FreshPorts.org] ，它提供了一个全面的搜索工具，并跟踪 Ports Collection 中应用程序的变化。注册用户可以创建一个自定义的观察列表，以便在他们所观察的 被更新时"
"收到一封自动的电子邮件。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:132
msgid ""
"If finding a particular application becomes challenging, try searching a site like http://www.sourceforge.net/[SourceForge.net] or http://www.github.com/[GitHub.com] then check back at the link:"
"https://www.FreeBSD.org/ports/[FreeBSD site] to see if the application has been ported."
msgstr ""
"如果找到一个特定的应用程序变得具有挑战性，可以尝试在 http://www.sourceforge.net/[SourceForge.net] 或 http://www.github.com/[GitHub.com] 这样的网站上搜索，然后再到 link:https://www.FreeBSD.org/ports/"
"[FreeBSD site] 网站上看看这个应用程序是否被移植了。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:133
msgid "To search the binary package repository for an application:"
msgstr "要为一个应用程序搜索二进制包库："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:148
#, no-wrap
msgid ""
"# pkg search subversion\n"
"git-subversion-1.9.2\n"
"java-subversion-1.8.8_2\n"
"p5-subversion-1.8.8_2\n"
"py27-hgsubversion-1.6\n"
"py27-subversion-1.8.8_2\n"
"ruby-subversion-1.8.8_2\n"
"subversion-1.8.8_2\n"
"subversion-book-4515\n"
"subversion-static-1.8.8_2\n"
"subversion16-1.6.23_4\n"
"subversion17-1.7.16_2\n"
msgstr ""
"# pkg search subversion\n"
"git-subversion-1.9.2\n"
"java-subversion-1.8.8_2\n"
"p5-subversion-1.8.8_2\n"
"py27-hgsubversion-1.6\n"
"py27-subversion-1.8.8_2\n"
"ruby-subversion-1.8.8_2\n"
"subversion-1.8.8_2\n"
"subversion-book-4515\n"
"subversion-static-1.8.8_2\n"
"subversion16-1.6.23_4\n"
"subversion17-1.7.16_2\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:156
msgid ""
"Package names include the version number and, in the case of ports based on python, the version number of the version of python the package was built with.  Some ports also have multiple versions "
"available.  In the case of Subversion, there are different versions available, as well as different compile options.  In this case, the statically linked version of Subversion.  When indicating which "
"package to install, it is best to specify the application by the port origin, which is the path in the ports tree.  Repeat the `pkg search` with `-o` to list the origin of each package:"
msgstr ""
"软件包名称包括版本号，如果是基于 python 的 port，则包括软件包所使用的 python 版本的版本号。一些 ports 也有多个版本。在 Subversion 的情况下，有不同的版本，以及不同的编译选项。在这种情况下，Subversion 的"
"静态链接版本。在指出要安装哪个软件包时，最好是通过 port origin 来指定应用程序，也就是 ports 树中的路径。用 `-o` 重复 `pkg search` 来列出每个软件包的来源："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:171
#, no-wrap
msgid ""
"# pkg search -o subversion\n"
"devel/git-subversion\n"
"java/java-subversion\n"
"devel/p5-subversion\n"
"devel/py-hgsubversion\n"
"devel/py-subversion\n"
"devel/ruby-subversion\n"
"devel/subversion16\n"
"devel/subversion17\n"
"devel/subversion\n"
"devel/subversion-book\n"
"devel/subversion-static\n"
msgstr ""
"# pkg search -o subversion\n"
"devel/git-subversion\n"
"java/java-subversion\n"
"devel/p5-subversion\n"
"devel/py-hgsubversion\n"
"devel/py-subversion\n"
"devel/ruby-subversion\n"
"devel/subversion16\n"
"devel/subversion17\n"
"devel/subversion\n"
"devel/subversion-book\n"
"devel/subversion-static\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:175
msgid ""
"Searching by shell globs, regular expressions, exact match, by description, or any other field in the repository database is also supported by `pkg search`.  After installing package:ports-mgmt/pkg[] "
"or package:ports-mgmt/pkg-devel[], see man:pkg-search[8] for more details."
msgstr ""
"在安装了 package:ports-mgmt/pkg[] 或 package:ports-mgmt/pkg-devel[] 之后，`pkg search` 也支持通过 shell globs、正则表达式、完全匹配、通过描述或版本库数据库中的任何其他字段进行搜索。请参阅"
" man:pkg-search[8] 了解更多细节。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:176
msgid ""
"If the Ports Collection is already installed, there are several methods to query the local version of the ports tree. To find out which category a port is in, type `whereis _file_`, where _file_ is "
"the program to be installed:"
msgstr "如果已经安装了 Ports Collection，有几种方法可以查询本地版本的 ports 树。要想知道某个 port 在哪个类别中，请输入 `whereis _file_` ，其中 _file_ 是要安装的程序："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:181
#, no-wrap
msgid ""
"# whereis lsof\n"
"lsof: /usr/ports/sysutils/lsof\n"
msgstr ""
"# whereis lsof\n"
"lsof: /usr/ports/sysutils/lsof\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:184
msgid "Alternately, an man:echo[1] statement can be used:"
msgstr "另外，也可以使用 man:echo[1] 语句："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:189
#, no-wrap
msgid ""
"# echo /usr/ports/*/*lsof*\n"
"/usr/ports/sysutils/lsof\n"
msgstr ""
"# echo /usr/ports/*/*lsof*\n"
"/usr/ports/sysutils/lsof\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:192
msgid "Note that this will also return any matched files downloaded into the [.filename]#/usr/ports/distfiles# directory."
msgstr "请注意，这也将返回任何下载到 [.filename]#/usr/ports/distfiles# 目录中的匹配文件。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:193
msgid ""
"Another way to find software is by using the Ports Collection's built-in search mechanism. To use the search feature, cd to [.filename]#/usr/ports# then run `make search name=program-name` where "
"_program-name_ is the name of the software. For example, to search for `lsof`:"
msgstr ""
"另一种寻找软件的方法是使用 Ports Collection 的内置搜索机制。要使用这个搜索功能，请 cd 到 [.filename]#/usr/ports# ，然后运行 `make search name=program-name` ，其中 _program-name_ 是软件的名字。例如，要"
"搜索 `lsof`："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:205
#, no-wrap
msgid ""
"# cd /usr/ports\n"
"# make search name=lsof\n"
"Port:   lsof-4.88.d,8\n"
"Path:   /usr/ports/sysutils/lsof\n"
"Info:   Lists information about open files (similar to fstat(1))\n"
"Maint:  ler@lerctr.org\n"
"Index:  sysutils\n"
"B-deps:\n"
"R-deps:\n"
msgstr ""
"# cd /usr/ports\n"
"# make search name=lsof\n"
"Port:   lsof-4.88.d,8\n"
"Path:   /usr/ports/sysutils/lsof\n"
"Info:   Lists information about open files (similar to fstat(1))\n"
"Maint:  ler@lerctr.org\n"
"Index:  sysutils\n"
"B-deps:\n"
"R-deps:\n"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:212
msgid ""
"The built-in search mechanism uses a file of index information.  If a message indicates that the [.filename]#INDEX# is required, run `make fetchindex` to download the current index file.  With the [."
"filename]#INDEX# present, `make search` will be able to perform the requested search."
msgstr "内置的搜索机制使用一个索引信息文件。如果有消息表明需要 [.filename]#INDEX# ，运行 `make fetchindex` 来下载当前的索引文件。有了 [.filename]#INDEX# 的存在， `make search` 就能执行所要求的搜索。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:215
msgid "The \"Path:\" line indicates where to find the port."
msgstr "\"Path:\" 指出在哪里可以找到该 port。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:217
msgid "To receive less information, use the `quicksearch` feature:"
msgstr "要想收到更少的信息，请使用快速搜索功能："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:225
#, no-wrap
msgid ""
"# cd /usr/ports\n"
"# make quicksearch name=lsof\n"
"Port:   lsof-4.88.d,8\n"
"Path:   /usr/ports/sysutils/lsof\n"
"Info:   Lists information about open files (similar to fstat(1))\n"
msgstr ""
"# cd /usr/ports\n"
"# make quicksearch name=lsof\n"
"Port:   lsof-4.88.d,8\n"
"Path:   /usr/ports/sysutils/lsof\n"
"Info:   Lists information about open files (similar to fstat(1))\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:229
msgid ""
"For more in-depth searching, use `make search key=_string_` or `make quicksearch key=_string_`, where _string_ is some text to search for.  The text can be in comments, descriptions, or dependencies "
"in order to find ports which relate to a particular subject when the name of the program is unknown."
msgstr ""
"要进行更深入的搜索，可以使用 `make search key=_string_` 或 `make quicksearch key=_string_` ，其中 _string_ 是要搜索的一些文本。这些文本可以是注释、描述或依赖关系，以便在程序名称不详的情况下找到与特定主"
"题有关的 port。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:232
msgid "When using `search` or `quicksearch`, the search string is case-insensitive.  Searching for \"LSOF\" will yield the same results as searching for \"lsof\"."
msgstr "在使用 `search` 或 `quicksearch` 时，搜索字符串是不区分大小写的。搜索 \"LSOF\" 将产生与搜索 \"lsof\" 相同的结果。"

#. type: Title ==
#: content/zh-cn/books/handbook/ports/_index.adoc:234
#, no-wrap
msgid "Using pkg for Binary Package Management"
msgstr "使用 pkg 进行二进制包管理"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:237
msgid "pkg is the next generation replacement for the traditional FreeBSD package management tools, offering many features that make dealing with binary packages faster and easier."
msgstr "pkg 是传统的 FreeBSD 软件包管理工具的新一代替代品，它提供了许多使处理二进制软件包更快、更容易的功能。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:239
msgid "For sites wishing to only use prebuilt binary packages from the FreeBSD mirrors, managing packages with pkg can be sufficient."
msgstr "对于希望只使用来自 FreeBSD 镜像的预编译二进制包的网站来说，用 pkg 管理软件包就足够了。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:241
msgid "However, for those sites building from source or using their own repositories, a separate <<ports-upgrading-tools,port management tool>> will be needed."
msgstr "然而，对于那些从源代码构建的网站或使用自己的存储库的网站，将需要一个单独的 ports 管理工具。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:244
msgid ""
"Since pkg only works with binary packages, it is not a replacement for such tools.  Those tools can be used to install software from both binary packages and the Ports Collection, while pkg installs "
"only binary packages."
msgstr "由于 pkg 只适用于二进制包，它并不能替代这些工具。那些工具可以用来安装二进制包和 Ports Collection 中的软件，而 pkg 只安装二进制包。"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:246
#, no-wrap
msgid "Getting Started with pkg"
msgstr "开始使用 pkg"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:250
msgid "FreeBSD includes a bootstrap utility which can be used to download and install pkg and its manual pages.  This utility is designed to work with versions of FreeBSD starting with 10._X_."
msgstr "FreeBSD 包括一个 bootstrap 工具，可以用来下载和安装 pkg 及其手册页面。这个工具被设计用于从 10._X_ 开始的 FreeBSD 版本。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:256
msgid ""
"Not all FreeBSD versions and architectures support this bootstrap process.  The current list is at https://pkg.freebsd.org/[].  For other cases, pkg must instead be installed from the Ports Collection "
"or as a binary package."
msgstr "并非所有的 FreeBSD 版本和架构都支持这个引导过程。目前的列表在 https://pkg.freebsd.org/[] 。对于其他情况，pkg 必须从 Ports Collection 或二进制包中安装。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:259
msgid "To bootstrap the system, run:"
msgstr "要启动系统，请运行："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:263
#, no-wrap
msgid "# /usr/sbin/pkg\n"
msgstr "# /usr/sbin/pkg\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:266
msgid "You must have a working Internet connection for the bootstrap process to succeed."
msgstr "你必须有一个正常的互联网连接，启动过程才能成功。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:268
msgid "Otherwise, to install the port, run:"
msgstr "否则，要安装该 ports，请运行："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:274
#, no-wrap
msgid ""
"# cd /usr/ports/ports-mgmt/pkg\n"
"# make\n"
"# make install clean\n"
msgstr ""
"# cd /usr/ports/ports-mgmt/pkg\n"
"# make\n"
"# make install clean\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:279
msgid ""
"When upgrading an existing system that originally used the older pkg_* tools, the database must be converted to the new format, so that the new tools are aware of the already installed packages.  Once "
"pkg has been installed, the package database must be converted from the traditional format to the new format by running this command:"
msgstr "当升级一个原先使用旧版 pkg_* 工具的现有系统时，数据库必须被转换为新的格式，以便新的工具能够知道已经安装的软件包。安装了 pkg 以后，必须通过运行这个命令将软件包数据库从传统格式转换为新格式："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:283
#, no-wrap
msgid "# pkg2ng\n"
msgstr "# pkg2ng\n"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:288
msgid "This step is not required for new installations that do not yet have any third-party software installed."
msgstr "对于尚未安装任何第三方软件的新安装系统，不需要这一步骤。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:294
msgid "This step is not reversible.  Once the package database has been converted to the pkg format, the traditional `pkg_*` tools should no longer be used."
msgstr "这个步骤是不可逆的。软件包数据库被转换为 pkg 格式以后，就不应再使用传统的 `pkg_*` 工具。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:302
msgid ""
"The package database conversion may emit errors as the contents are converted to the new version.  Generally, these errors can be safely ignored.  However, a list of software that was not successfully "
"converted is shown after `pkg2ng` finishes.  These applications must be manually reinstalled."
msgstr "当内容被转换到新版本时，包数据库的转换可能会发出错误。一般来说，这些错误可以被安全地忽略掉。然而，在 `pkg2ng` 完成后，会显示一个未成功转换的软件列表。必须重新手动安装这些应用程序。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:306
msgid ""
"To ensure that the Ports Collection registers new software with pkg instead of the traditional packages database, FreeBSD versions earlier than 10._X_ require this line in [.filename]#/etc/make.conf#:"
msgstr "为了确保 Ports Collection 用 pkg 而不是传统的 packages 数据库来注册新软件，早于 10._X_ 的 FreeBSD 版本需要在 [.filename]#/etc/make.conf# 中加入这一行："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:310
#, no-wrap
msgid "WITH_PKGNG=   yes\n"
msgstr "WITH_PKGNG=   yes\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:314
msgid "By default, pkg uses the binary packages from the FreeBSD package mirrors (the _repository_).  For information about building a custom package repository, see <<ports-poudriere>>."
msgstr "默认情况下，pkg 使用来自 FreeBSD 软件包镜像（_仓库_）的二进制软件包。关于构建自定义软件包仓库的信息，请参见用 Poudriere 构建软件包。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:316
msgid "Additional pkg configuration options are described in man:pkg.conf[5]."
msgstr "其他 pkg 配置选项在 man:pkg.conf[5] 中有描述。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:318
msgid "Usage information for pkg is available in the man:pkg[8] manual page or by running `pkg` without additional arguments."
msgstr "pkg 的使用信息可以在 man:pkg[8] 手册中找到，或者通过运行 `pkg` 而不需要其他参数。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:321
msgid "Each pkg command argument is documented in a command-specific manual page.  To read the manual page for `pkg install`, for example, run either of these commands:"
msgstr "每个 pkg 命令的参数都在特定命令的手册页中有所记载。例如，要阅读 `pkg install` 的手册页，请运行以下任一命令："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:325
#, no-wrap
msgid "# pkg help install\n"
msgstr "# pkg help install\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:330
#, no-wrap
msgid "# man pkg-install\n"
msgstr "# man pkg-install\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:335
msgid ""
"The rest of this section demonstrates common binary package management tasks which can be performed using pkg.  Each demonstrated command provides many switches to customize its use.  Refer to a "
"command's help or man page for details and more examples."
msgstr "本节的其余部分演示了可以使用 pkg 执行的常见二进制包管理任务。每个演示的命令都提供了许多开关来定制其用途。详情和更多的例子请参考命令的帮助或手册页。"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:337
#, no-wrap
msgid "Quarterly and Latest Ports Branches"
msgstr "季度和最新的 port 分支机构"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:346
msgid ""
"The `Quarterly` branch provides users with a more predictable and stable experience for port and package installation and upgrades.  This is done essentially by only allowing non-feature updates.  "
"Quarterly branches aim to receive security fixes (that may be version updates, or backports of commits), bug fixes and ports compliance or framework changes.  The Quarterly branch is cut from HEAD at "
"the beginning of every (yearly) quarter in January, April, July, and October.  Branches are named according to the year (YYYY) and quarter (Q1-4) they are created in.  For example, the quarterly "
"branch created in January 2016, is named 2016Q1.  And the `Latest` branch provides the latest versions of the packages to the users."
msgstr ""
"`Quarterly` 分支为用户提供了一个更可预测、更稳定的 ports 和软件包安装和升级的体验。这基本上是通过只允许非特性更新来实现的。Quarterly 分支的目标是接收安全修复（可能是版本更新，或者是提交的回传）、bug 修"
"复和 ports 合规性或框架变化。季度分支在每个（年度）季度的开始，即 1 月、4 月、7 月和 10 月，从 HEAD 中切割。分支根据创建的年份（YYY）和季度（Q1-4）来命名。例如，在2016 年1月创建的季度分支，被命名为 "
"2016Q1 。而 `最新` 分支为用户提供最新版本的软件包。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:348
msgid "To switch from quarterly to latest run the following commands:"
msgstr "要从季度版切换到最新版，请运行以下命令："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:353
#, no-wrap
msgid ""
"# mkdir -p /usr/local/etc/pkg/repos\n"
"# cp /etc/pkg/FreeBSD.conf /usr/local/etc/pkg/repos/FreeBSD.conf\n"
msgstr ""
"# mkdir -p /usr/local/etc/pkg/repos\n"
"# cp /etc/pkg/FreeBSD.conf /usr/local/etc/pkg/repos/FreeBSD.conf\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:356
msgid "Edit the file [.filename]#/usr/local/etc/pkg/repos/FreeBSD.conf# and change the string _quarterly_ to _latest_ in the `url:` line."
msgstr "编辑文件 [.filename]#/usr/local/etc/pkg/repos/FreeBSD.conf# ，将 `url:` 一行中的 _quarterly_ 字符串改为 _latest_ 。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:358
msgid "The result should be similar to the following:"
msgstr "结果应该类似于以下情况："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:368
#, no-wrap
msgid ""
"FreeBSD: {\n"
"  url: \"pkg+http://pkg.FreeBSD.org/${ABI}/latest\",\n"
"  mirror_type: \"srv\",\n"
"  signature_type: \"fingerprints\",\n"
"  fingerprints: \"/usr/share/keys/pkg\",\n"
"  enabled: yes\n"
"}\n"
msgstr ""
"FreeBSD: {\n"
"  url: \"pkg+http://pkg.FreeBSD.org/${ABI}/latest\",\n"
"  mirror_type: \"srv\",\n"
"  signature_type: \"fingerprints\",\n"
"  fingerprints: \"/usr/share/keys/pkg\",\n"
"  enabled: yes\n"
"}\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:371
msgid "And finally run this command to update from the new (latest) repository metadata."
msgstr "最后运行这个命令，从新的（最新的）版本库元数据进行更新。"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:375
#, no-wrap
msgid "# pkg update -f\n"
msgstr "# pkg update -f\n"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:378
#, no-wrap
msgid "Obtaining Information About Installed Packages"
msgstr "获得关于已安装软件包的信息"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:382
msgid ""
"Information about the packages installed on a system can be viewed by running `pkg info` which, when run without any switches, will list the package version for either all installed packages or the "
"specified package."
msgstr "关于安装在系统上的软件包的信息可以通过运行 `pkg info` 来查看，当运行时没有任何开关，它将列出所有安装的软件包或指定的软件包的版本。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:384
msgid "For example, to see which version of pkg is installed, run:"
msgstr "例如，要查看安装了哪个版本的 pkg，请运行："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:389
#, no-wrap
msgid ""
"# pkg info pkg\n"
"pkg-1.1.4_1\n"
msgstr ""
"# pkg info pkg\n"
"pkg-1.1.4_1\n"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:392
#, no-wrap
msgid "Installing and Removing Packages"
msgstr "安装和删除软件包"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:395
msgid "To install a binary package use the following command, where _packagename_ is the name of the package to install:"
msgstr "要安装一个二进制软件包，请使用以下命令，其中 _packagename_ 是要安装的软件包的名称："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:399
#, no-wrap
msgid "# pkg install packagename\n"
msgstr "# pkg install packagename\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:403
msgid "This command uses repository data to determine which version of the software to install and if it has any uninstalled dependencies.  For example, to install curl:"
msgstr ""
"这个命令使用软件库的数据来确定要安装哪个版本的软件，以及它是"
"否有任何未安装的依赖项。例如，要安装 curl："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:409
#, no-wrap
msgid ""
"# pkg install curl\n"
"Updating repository catalogue\n"
"/usr/local/tmp/All/curl-7.31.0_1.txz          100% of 1181 kB 1380 kBps 00m01s\n"
msgstr ""
"# pkg install curl\n"
"Updating repository catalogue\n"
"/usr/local/tmp/All/curl-7.31.0_1.txz          100% of 1181 kB 1380 kBps 00m01s\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:411
#, no-wrap
msgid "/usr/local/tmp/All/ca_root_nss-3.15.1_1.txz   100% of  288 kB 1700 kBps 00m00s\n"
msgstr "/usr/local/tmp/All/ca_root_nss-3.15.1_1.txz   100% of  288 kB 1700 kBps 00m00s\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:414
#, no-wrap
msgid ""
"Updating repository catalogue\n"
"The following 2 packages will be installed:\n"
msgstr ""
"Updating repository catalogue\n"
"The following 2 packages will be installed:\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:417
#, no-wrap
msgid ""
"        Installing ca_root_nss: 3.15.1_1\n"
"        Installing curl: 7.31.0_1\n"
msgstr ""
"        Installing ca_root_nss: 3.15.1_1\n"
"        Installing curl: 7.31.0_1\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:419
#, no-wrap
msgid "The installation will require 3 MB more space\n"
msgstr "The installation will require 3 MB more space\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:421
#, no-wrap
msgid "0 B to be downloaded\n"
msgstr "0 B to be downloaded\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:427
#, no-wrap
msgid ""
"Proceed with installing packages [y/N]: y\n"
"Checking integrity... done\n"
"[1/2] Installing ca_root_nss-3.15.1_1... done\n"
"[2/2] Installing curl-7.31.0_1... done\n"
"Cleaning up cache files...Done\n"
msgstr ""
"Proceed with installing packages [y/N]: y\n"
"Checking integrity... done\n"
"[1/2] Installing ca_root_nss-3.15.1_1... done\n"
"[2/2] Installing curl-7.31.0_1... done\n"
"Cleaning up cache files...Done\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:430
msgid "The new package and any additional packages that were installed as dependencies can be seen in the installed packages list:"
msgstr "在已安装的软件包列表中可以看到新的软件包和任何作为依赖项安装的额外软件包："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:437
#, no-wrap
msgid ""
"# pkg info\n"
"ca_root_nss-3.15.1_1\tThe root certificate bundle from the Mozilla Project\n"
"curl-7.31.0_1\tNon-interactive tool to get files from FTP, GOPHER, HTTP(S) servers\n"
"pkg-1.1.4_6\tNew generation package manager\n"
msgstr ""
"# pkg info\n"
"ca_root_nss-3.15.1_1\tThe root certificate bundle from the Mozilla Project\n"
"curl-7.31.0_1\tNon-interactive tool to get files from FTP, GOPHER, HTTP(S) servers\n"
"pkg-1.1.4_6\tNew generation package manager\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:441
msgid "Packages that are no longer needed can be removed with `pkg delete`.  For example:"
msgstr "不再需要的软件包可以用 `pkg delete` 来删除。比如说："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:446
#, no-wrap
msgid ""
"# pkg delete curl\n"
"The following packages will be deleted:\n"
msgstr ""
"# pkg delete curl\n"
"The following packages will be deleted:\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:448
#, no-wrap
msgid "\tcurl-7.31.0_1\n"
msgstr "\tcurl-7.31.0_1\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:450
#, no-wrap
msgid "The deletion will free 3 MB\n"
msgstr "The deletion will free 3 MB\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:453
#, no-wrap
msgid ""
"Proceed with deleting packages [y/N]: y\n"
"[1/1] Deleting curl-7.31.0_1... done\n"
msgstr ""
"Proceed with deleting packages [y/N]: y\n"
"[1/1] Deleting curl-7.31.0_1... done\n"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:456
#, no-wrap
msgid "Upgrading Installed Packages"
msgstr "升级已安装的软件包"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:459
msgid "Installed packages can be upgraded to their latest versions by running:"
msgstr "已安装的软件包可以通过运行升级到其最新版本："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:463
#, no-wrap
msgid "# pkg upgrade\n"
msgstr "# pkg upgrade\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:466
msgid "This command will compare the installed versions with those available in the repository catalogue and upgrade them from the repository."
msgstr "这个命令将比较已安装的版本和版本库目录中的可用版本，并从版本库中升级它们。"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:468
#, no-wrap
msgid "Auditing Installed Packages"
msgstr "审计已安装的软件包"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:473
msgid ""
"Software vulnerabilities are regularly discovered in third-party applications.  To address this, pkg includes a built-in auditing mechanism.  To determine if there are any known vulnerabilities for "
"the software installed on the system, run:"
msgstr "在第三方应用程序中经常发现软件漏洞。为了解决这个问题，pkg 包括一个内置的审计机制。要确定系统上安装的软件是否存在任何已知的漏洞，请运行："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:477
#, no-wrap
msgid "# pkg audit -F\n"
msgstr "# pkg audit -F\n"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:480
#, no-wrap
msgid "Automatically Removing Unused Packages"
msgstr "自动删除未使用的软件包"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:484
msgid ""
"Removing a package may leave behind dependencies which are no longer required.  Unneeded packages that were installed as dependencies (leaf packages) can be automatically detected and removed using:"
msgstr "移除一个软件包可能会留下不再需要的依赖关系。作为依赖项安装的不需要的包（子包）可以被自动检测到，并通过以下方式删除："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:490
#, no-wrap
msgid ""
"# pkg autoremove\n"
"Packages to be autoremoved:\n"
"\tca_root_nss-3.15.1_1\n"
msgstr ""
"# pkg autoremove\n"
"Packages to be autoremoved:\n"
"\tca_root_nss-3.15.1_1\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:492
#, no-wrap
msgid "The autoremoval will free 723 kB\n"
msgstr "The autoremoval will free 723 kB\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:495
#, no-wrap
msgid ""
"Proceed with autoremoval of packages [y/N]: y\n"
"Deinstalling ca_root_nss-3.15.1_1... done\n"
msgstr ""
"Proceed with autoremoval of packages [y/N]: y\n"
"Deinstalling ca_root_nss-3.15.1_1... done\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:499
msgid ""
"Packages installed as dependencies are called _automatic_ packages.  Non-automatic packages, i.e the packages that were explicity installed not as a dependency to another package, can be listed using:"
msgstr "作为依赖关系安装的包被称为 _自动包_ 。非自动软件包，即明确安装的软件包不是作为另一个软件包的依赖关系，可以用以下方式列出："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:506
#, no-wrap
msgid ""
"# pkg prime-list\n"
"nginx\n"
"openvpn\n"
"sudo\n"
msgstr ""
"# pkg prime-list\n"
"nginx\n"
"openvpn\n"
"sudo\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:511
msgid ""
"`pkg prime-list` is an alias command declared in [.filename]#/usr/local/etc/pkg.conf#.  There are many others that can be used to query the package database of the system.  For instance, command `pkg "
"prime-origins` can be used to get the origin port directory of the list mentioned above:"
msgstr "`pkg prime-list` 是 [.filename]#/usr/local/etc/pkg.conf# 中声明的一个别名命令。还有许多其他命令可以用来查询系统的软件包数据库。例如，命令 `pkg prime-origins` 可以用来获取上述列表的 ports 目录："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:518
#, no-wrap
msgid ""
"# pkg prime-origins\n"
"www/nginx\n"
"security/openvpn\n"
"security/sudo\n"
msgstr ""
"# pkg prime-origins\n"
"www/nginx\n"
"security/openvpn\n"
"security/sudo\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:521
msgid "This list can be used to rebuild all packages installed on a system using build tools such as package:ports-mgmt/poudriere[] or package:ports-mgmt/synth[]."
msgstr "这个列表可以用来重建使用 package:ports-mgmt/poudriere[] 或 package:ports-mgmt/synth[] 等联编工具安装在系统上的所有软件包。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:523
msgid "Marking an installed package as automatic can be done using:"
msgstr "将一个已安装的软件包标记为自动，可以使用："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:527
#, no-wrap
msgid "# pkg set -A 1 devel/cmake\n"
msgstr "# pkg set -A 1 devel/cmake\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:530
msgid "Once a package is a leaf package and is marked as automatic, it gets selected by `pkg autoremove`."
msgstr "一个软件包成为子包并被标记为自动后，它就会被 `pkg autoremove` 选中。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:532
msgid "Marking an installed package as _not_ automatic can be done using:"
msgstr "将一个已安装的软件包标记为 _非_ 自动，可以用以下方法完成："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:536
#, no-wrap
msgid "# pkg set -A 0 devel/cmake\n"
msgstr "# pkg set -A 0 devel/cmake\n"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:539
#, no-wrap
msgid "Restoring the Package Database"
msgstr "恢复软件包数据库"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:543
msgid "Unlike the traditional package management system, pkg includes its own package database backup mechanism.  This functionality is enabled by default."
msgstr "与传统的软件包管理系统不同，pkg 有它自己的软件包数据库备份机制。这个功能在默认情况下是启用的。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:547
msgid "To disable the periodic script from backing up the package database, set `daily_backup_pkgdb_enable=\"NO\"` in man:periodic.conf[5]."
msgstr "要禁止定期脚本备份软件包数据库，请在 man:periodic.conf[5] 中设置 `daily_backup_pkgdb_enable=\"NO\"` 。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:551
msgid "To restore the contents of a previous package database backup, run the following command replacing _/path/to/pkg.sql_ with the location of the backup:"
msgstr "要恢复以前的软件包数据库备份的内容，运行以下命令，将 _/path/to/pkg.sql_ 替换为备份的位置："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:555
#, no-wrap
msgid "# pkg backup -r /path/to/pkg.sql\n"
msgstr "# pkg backup -r /path/to/pkg.sql\n"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:560
msgid "If restoring a backup taken by the periodic script, it must be decompressed prior to being restored."
msgstr "如果恢复定期脚本所做的备份，必须在恢复前对其进行解压。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:564
msgid "To run a manual backup of the pkg database, run the following command, replacing _/path/to/pkg.sql_ with a suitable file name and location:"
msgstr "要手动运行 pkg 的数据库备份，运行下面的命令，用一个合适的文件名和位置替换 _/path/to/pkg.sql_ ："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:568
#, no-wrap
msgid "# pkg backup -d /path/to/pkg.sql\n"
msgstr "# pkg backup -d /path/to/pkg.sql\n"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:571
#, no-wrap
msgid "Removing Stale Packages"
msgstr "删除陈旧的软件包"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:576
msgid ""
"By default, pkg stores binary packages in a cache directory defined by `PKG_CACHEDIR` in man:pkg.conf[5].  Only copies of the latest installed packages are kept. Older versions of pkg kept all "
"previous packages.  To remove these outdated binary packages, run:"
msgstr "默认情况下，pkg 将二进制包存储在 man:pkg.conf[5] 中由 `PKG_CACHEDIR` 定义的缓存目录中。只有最新安装的软件包的副本被保存。旧版本的 pkg 会保留所有以前的软件包。要删除这些过时的二进制包，请运行："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:580
#, no-wrap
msgid "# pkg clean\n"
msgstr "# pkg clean\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:583
msgid "The entire cache may be cleared by running:"
msgstr "可以通过运行来清除整个缓存："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:587
#, no-wrap
msgid "# pkg clean -a\n"
msgstr "# pkg clean -a\n"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:590
#, no-wrap
msgid "Modifying Package Metadata"
msgstr "修改包的元数据"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:595
msgid ""
"Software within the FreeBSD Ports Collection can undergo major version number changes.  To address this, pkg has a built-in command to update package origins.  This can be useful, for example, if "
"package:lang/php5[] is renamed to package:lang/php53[] so that package:lang/php5[] can now represent version `5.4`."
msgstr ""
"FreeBSD Ports Collection 中的软件可能会经历重大的版本号变化。为了解决这个问题，pkg 有一个内置的命令来更新软件包的来源。这可能很有用，例如，如果 package:lang/php5[] 被改名为 package:lang/php53[] ，那么 "
"package:lang/php5[] 现在可以代表 `5.4` 版本。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:597
msgid "To change the package origin for the above example, run:"
msgstr "要改变上述例子的软件包来源，请运行："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:601
#, no-wrap
msgid "# pkg set -o lang/php5:lang/php53\n"
msgstr "# pkg set -o lang/php5:lang/php53\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:604
msgid "As another example, to update package:lang/ruby18[] to package:lang/ruby19[], run:"
msgstr "再比如，要将 package:lang/ruby18[] 更新为 package:lang/ruby19[] ，运行："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:608
#, no-wrap
msgid "# pkg set -o lang/ruby18:lang/ruby19\n"
msgstr "# pkg set -o lang/ruby18:lang/ruby19\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:611
msgid "As a final example, to change the origin of the [.filename]#libglut# shared libraries from package:graphics/libglut[] to package:graphics/freeglut[], run:"
msgstr "作为最后一个例子，要把 [.filename]#libglut# 共享库的来源从 package:graphics/libglut[] 改为 package:graphics/freeglut[] ，运行："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:615
#, no-wrap
msgid "# pkg set -o graphics/libglut:graphics/freeglut\n"
msgstr "# pkg set -o graphics/libglut:graphics/freeglut\n"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:621
msgid "When changing package origins, it is important to reinstall packages that are dependent on the package with the modified origin.  To force a reinstallation of dependent packages, run:"
msgstr "当改变软件包的来源时，重要的是要重新安装那些依赖于修改了来源的软件包的软件包。要强制重新安装依赖的软件包，请运行："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:625
#, no-wrap
msgid "# pkg install -Rf graphics/freeglut\n"
msgstr "# pkg install -Rf graphics/freeglut\n"

#. type: Title ==
#: content/zh-cn/books/handbook/ports/_index.adoc:630
#, no-wrap
msgid "Using the Ports Collection"
msgstr "使用 Ports Collection"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:634
msgid ""
"The Ports Collection is a set of [.filename]##Makefile##s, patches, and description files.  Each set of these files is used to compile and install an individual application on FreeBSD, and is called a "
"_port_."
msgstr "Ports Collection 由一组 [.filename]##Makefile##、 补丁和描述文件构成。每一组这些文件都是用来在 FreeBSD 上编译和安装一个单独的应用程序，并被称为 _port_。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:636
msgid "By default, the Ports Collection itself is stored as a subdirectory of [.filename]#/usr/ports#."
msgstr "默认情况下，Ports Collection 本身是作为 [.filename]#/usr/ports#  的一个子目录来存储的。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:643
msgid ""
"Before installing and using the Ports Collection, please be aware that it is generally ill-advised to use the Ports Collection in conjunction with the binary packages provided via pkg to install "
"software.  pkg, by default, tracks quarterly branch-releases of the ports tree and not HEAD.  Dependencies could be different for a port in HEAD compared to its counterpart in a quarterly branch "
"release and this could result in conflicts between dependencies installed by pkg and those from the Ports Collection.  If the Ports Collection and pkg must be used in conjunction, then be sure that "
"your Ports Collection and pkg are on the same branch release of the ports tree."
msgstr ""
"在安装和使用 Ports Collection 之前，请注意通常不建议将 Ports Collection 与通过 pkg 提供的二进制包一起使用来安装软件。pkg 默认会跟踪 ports 树的季度分支版本，而不是 HEAD 。与季度分支版本中的 port 相比，"
"HEAD 中的依赖关系可能有所不同，这可能导致 pkg 安装的依赖关系与 PortsCollection 中的依赖关系发生冲突。如果必须同时使用 PortsCollection 和 pkg ，那么请确保您的 Ports Collection 和 pkg 在 ports 树的同一个"
"分支版本上。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:649
msgid ""
"The Ports Collection contains directories for software categories.  Inside each category are subdirectories for individual applications.  Each application subdirectory contains a set of files that "
"tells FreeBSD how to compile and install that program, called a _ports skeleton_.  Each port skeleton includes these files and directories:"
msgstr ""
"Ports Collection 包含软件类别的目录。在每一个类别中，都有针对各个应用程序的子目录。每个应用程序的子目录都包含了一组文件，这些文件告诉 FreeBSD 如何编译和安装这个程序，这被称为 _ports 骨架_ 。每个 port 骨"
"架都包括这些文件和目录："

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:651
msgid "[.filename]#Makefile#: contains statements that specify how the application should be compiled and where its components should be installed."
msgstr "[.filename]#Makefile#：包含指定应用程序应如何被编译以及其组件应安装在何处的代码。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:652
msgid "[.filename]#distinfo#: contains the names and checksums of the files that must be downloaded to build the port."
msgstr "[.filename]#distinfo#: 包含为构建 port 而必须下载的文件的名称和校验和。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:653
msgid "[.filename]#files/#: this directory contains any patches needed for the program to compile and install on FreeBSD. This directory may also contain other files used to build the port."
msgstr ".filename]#files/#: 这个目录包含程序在FreeBSD上编译和安装所需的任何补丁。此目录还可能包含用于构建 port 的其他文件。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:654
msgid "[.filename]#pkg-descr#: provides a more detailed description of the program."
msgstr "[.filename]#pkg-descr#: 提供了关于对该程序更详细的描述。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:655
msgid "[.filename]#pkg-plist#: a list of all the files that will be installed by the port. It also tells the ports system which files to remove upon deinstallation."
msgstr "[.filename]#pkg-plist#: 包含所有将被 port 安装的文件的列表。它也会告诉 ports 系统在卸载时要删除哪些文件。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:658
msgid ""
"Some ports include [.filename]#pkg-message# or other files to handle special situations.  For more details on these files, and on ports in general, refer to the extref:{porters-handbook}[FreeBSD "
"Porter's Handbook]."
msgstr "一些 ports 包括 [.filename]#pkg-message# 或其他文件来处理特殊情况。关于这些文件以及一般的 ports 的更多细节，请参考 extref:{porters-handbook}[FreeBSD Porter 的手册]。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:661
msgid ""
"The port does not include the actual source code, also known as a [.filename]#distfile#.  The extract portion of building a port will automatically save the downloaded source to [.filename]#/usr/ports/"
"distfiles#."
msgstr "这个 port 并不包括实际的源代码，也就是所谓的 [.filename]#distfile#。构建 port 的 extract 部分会自动将下载的源代码保存到 [.filename]#/usr/ports/distfiles# 。"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:663
#, no-wrap
msgid "Installing the Ports Collection"
msgstr "安装 Ports Collection"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:667
msgid ""
"Before an application can be compiled using a port, the Ports Collection must first be installed.  If it was not installed during the installation of FreeBSD, use one of the following methods to "
"install it:"
msgstr "在使用 port 编译应用程序之前，必须首先安装 Ports Collection。如果在安装 FreeBSD 时没有安装，可以使用下列方法来安装它："

#. type: delimited block * 4
#: content/zh-cn/books/handbook/ports/_index.adoc:672
#, no-wrap
msgid "*Procedure: Portsnap Method*\n"
msgstr "*Procedure: Portsnap 方法*\n"

#. type: delimited block * 4
#: content/zh-cn/books/handbook/ports/_index.adoc:677
msgid ""
"The base system of FreeBSD includes Portsnap.  This is a fast and user-friendly tool for retrieving the Ports Collection and is the recommended choice for most users not running FreeBSD-CURRENT.  This "
"utility connects to a FreeBSD site, verifies the secure key, and downloads a new copy of the Ports Collection.  The key is used to verify the integrity of all downloaded files."
msgstr ""
"FreeBSD 的基本系统包括 Portsnap。这是一个用于检索 Ports Collection 的快速且用户友好的工具，是大多数不运行 FreeBSD-CURRENT 的用户的推荐选择。这个工具可以连接到 FreeBSD 站点，验证安全密钥，并下载 Ports "
"Collection 的新副本。这个密钥被用来验证所有下载文件的完整性。"

#. type: delimited block * 4
#: content/zh-cn/books/handbook/ports/_index.adoc:684
msgid ""
"Note that Portsnap updates are generated from a snapshot of the main branch of the Ports Collection and cannot be configured to use a different branch (for example, `quarterly`).  If it is necessary "
"to use a different branch of the Ports Collection (for instance as referenced earlier in conjunction with binary packages), then the <<ports-using-git-method,Git method>> must be used."
msgstr ""
"请注意，Portsnap 更新是从 Ports Collection 主分支的快照生成的，不能配置为使用不同的分支（例如，`quarterly`）。如果有必要使用 Ports Collection 的不同分支（例如前面提到的与二进制包有关的分支），则必须使"
"用 Git 方法。"

#. type: delimited block * 4
#: content/zh-cn/books/handbook/ports/_index.adoc:686
msgid "To download a compressed snapshot of the Ports Collection into [.filename]#/var/db/portsnap#:"
msgstr "要将 Ports Collection 的压缩快照下载到 [.filename]#/var/db/portsnap# ："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:690
#, no-wrap
msgid "# portsnap fetch\n"
msgstr "# portsnap fetch\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:693
msgid "When running Portsnap for the first time, extract the snapshot into [.filename]#/usr/ports#:"
msgstr "第一次运行 Portsnap 时，将快照提取到 [.filename]#/usr/ports# ："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:697
#, no-wrap
msgid "# portsnap extract\n"
msgstr "# portsnap extract\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:700
msgid "After the first use of Portsnap has been completed as shown above, [.filename]#/usr/ports# can be updated as needed by running:"
msgstr "在如上所示完成了对 Portsnap 的第一次使用后，可以通过运行 [.filename]#/usr/ports# 来根据需要更新："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:705
#, no-wrap
msgid ""
"# portsnap fetch\n"
"# portsnap update\n"
msgstr ""
"# portsnap fetch\n"
"# portsnap update\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:708
msgid "When using `fetch`, the `extract` or the `update` operation may be run consecutively, like so:"
msgstr "当使用 `fetch` 时，`extract` 或 `update` 操作可以连续运行，像这样："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:712
#, no-wrap
msgid "# portsnap fetch update\n"
msgstr "# portsnap fetch update\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:719
#, no-wrap
msgid "*Procedure: Git Method*\n"
msgstr "*Procedure: Git 方法*\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:723
msgid ""
"If more control over the ports tree is needed or if local changes need to be maintained, or if running FreeBSD-CURRENT, Git can be used to obtain the Ports Collection.  Refer to extref:{committers-"
"guide}[the Git Primer, git-primer] for a detailed description of Git."
msgstr ""
"如果需要对 ports 树进行更多的控制，或需要维护本地的修改，或者运行 FreeBSD-CURRENT，可以使用 Git 来获取 Ports Collection。请参阅 extref:{committers-guide}[the Git Primer, git-primer] 以了解关于 Git 的详"
"细介绍。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:725
msgid "Git must be installed before it can be used to check out the ports tree. If a copy of the ports tree is already present, install Git like this:"
msgstr "在用来检查 ports 树之前，必须先安装 Git。如果已经有了 ports 树的副本，请像这样安装 Git："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:730
#, no-wrap
msgid ""
"# cd /usr/ports/devel/git\n"
"# make install clean\n"
msgstr ""
"# cd /usr/ports/devel/git\n"
"# make install clean\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:733
msgid "If the ports tree is not available, or pkg is being used to manage packages, Git can be installed as a package:"
msgstr "如果 ports 树不可用，或者正在使用 pkg 管理软件包，那么可以将 Git 作为一个包来安装："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:737
#, no-wrap
msgid "# pkg install git\n"
msgstr "# pkg install git\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:740
msgid "Check out a copy of the HEAD branch of the ports tree:"
msgstr "查看一下 ports 树的 HEAD 分支的副本："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:744
#, no-wrap
msgid "# git clone https://git.FreeBSD.org/ports.git /usr/ports\n"
msgstr "# git clone https://git.FreeBSD.org/ports.git /usr/ports\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:747
msgid "Or, check out a copy of a quarterly branch:"
msgstr "或者，查看一份季度分支构建的副本："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:751
#, no-wrap
msgid "# git clone https://git.FreeBSD.org/ports.git -b 2020Q3 /usr/ports\n"
msgstr "# git clone https://git.FreeBSD.org/ports.git -b 2020Q3 /usr/ports\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:754
msgid "As needed, update [.filename]#/usr/ports# after the initial Git checkout:"
msgstr "根据需要，在最初的 Git 签出后更新 [.filename]#/usr/ports# ："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:758
#, no-wrap
msgid "# git -C /usr/ports pull\n"
msgstr "# git -C /usr/ports pull\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:761
msgid "As needed, switch [.filename]#/usr/ports# to a different quarterly branch:"
msgstr "根据需要，将 [.filename]#/usr/ports# 切换到不同的季度分支："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:765
#, no-wrap
msgid "# git -C /usr/ports switch 2020Q4\n"
msgstr "# git -C /usr/ports switch 2020Q4\n"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:768
#, no-wrap
msgid "Installing Ports"
msgstr "安装 ports"

#. type: delimited block * 4
#: content/zh-cn/books/handbook/ports/_index.adoc:772
msgid ""
"This section provides basic instructions on using the Ports Collection to install or remove software.  The detailed description of available `make` targets and environment variables is available in "
"man:ports[7]."
msgstr "本节提供了关于使用 Ports Collection 来安装或删除软件的基本说明。关于可用的 `make` 目标和环境变量的详细描述，可以在 man:ports[7] 中找到。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:780
msgid ""
"Before compiling any port, be sure to update the Ports Collection as described in the previous section.  Since the installation of any third-party software can introduce security vulnerabilities, it "
"is recommended to first check https://vuxml.freebsd.org/[] for known security issues related to the port.  Alternately, run `pkg audit -F` before installing a new port.  This command can be configured "
"to automatically perform a security audit and an update of the vulnerability database during the daily security system check. For more information, refer to man:pkg-audit[8] and man:periodic[8]."
msgstr ""
"在编译任何 ports 之前，请务必按照前一节所述更新 PortsCollection。由于安装任何第三方软件都可能引入安全漏洞，因此建议首先检查 https://vuxml.freebsd.org/[]，以了解与该 port 有关的已知安全问题。另外，在安装"
"一个新的 port 之前，可以运行 `pkg audit -F` 。这个命令可以被配置为在每日安全系统检查中自动执行安全审计和漏洞数据库的更新。更多信息，请参阅 man:pkg-audit[8] 和 man:periodic[8]。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:784
msgid "Using the Ports Collection assumes a working Internet connection.  It also requires superuser privilege."
msgstr "使用 Ports Collection 的前提是有一个正常的互联网连接。它还需要超级用户的权限。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:787
msgid "To compile and install the port, change to the directory of the port to be installed, then type `make install` at the prompt.  Messages will indicate the progress:"
msgstr "要编译和安装这个 port，请切换到要安装的 port 的目录，然后在提示符下输入 `make install` 。提示消息会显示进度："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:809
#, no-wrap
msgid ""
"# cd /usr/ports/sysutils/lsof\n"
"# make install\n"
">> lsof_4.88D.freebsd.tar.gz doesn't seem to exist in /usr/ports/distfiles/.\n"
">> Attempting to fetch from ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/.\n"
"===>  Extracting for lsof-4.88\n"
"...\n"
"[extraction output snipped]\n"
"...\n"
">> Checksum OK for lsof_4.88D.freebsd.tar.gz.\n"
"===>  Patching for lsof-4.88.d,8\n"
"===>  Applying FreeBSD patches for lsof-4.88.d,8\n"
"===>  Configuring for lsof-4.88.d,8\n"
"...\n"
"[configure output snipped]\n"
"...\n"
"===>  Building for lsof-4.88.d,8\n"
"...\n"
"[compilation output snipped]\n"
"...\n"
msgstr ""
"# cd /usr/ports/sysutils/lsof\n"
"# make install\n"
">> lsof_4.88D.freebsd.tar.gz doesn't seem to exist in /usr/ports/distfiles/.\n"
">> Attempting to fetch from ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/.\n"
"===>  Extracting for lsof-4.88\n"
"...\n"
"[extraction output snipped]\n"
"...\n"
">> Checksum OK for lsof_4.88D.freebsd.tar.gz.\n"
"===>  Patching for lsof-4.88.d,8\n"
"===>  Applying FreeBSD patches for lsof-4.88.d,8\n"
"===>  Configuring for lsof-4.88.d,8\n"
"...\n"
"[configure output snipped]\n"
"...\n"
"===>  Building for lsof-4.88.d,8\n"
"...\n"
"[compilation output snipped]\n"
"...\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:822
#, no-wrap
msgid ""
"===>  Installing for lsof-4.88.d,8\n"
"...\n"
"[installation output snipped]\n"
"...\n"
"===>   Generating temporary packing list\n"
"===>   Compressing manual pages for lsof-4.88.d,8\n"
"===>   Registering installation for lsof-4.88.d,8\n"
"===>  SECURITY NOTE:\n"
"      This port has installed the following binaries which execute with\n"
"      increased privileges.\n"
"/usr/local/sbin/lsof\n"
"#\n"
msgstr ""
"===>  Installing for lsof-4.88.d,8\n"
"...\n"
"[installation output snipped]\n"
"...\n"
"===>   Generating temporary packing list\n"
"===>   Compressing manual pages for lsof-4.88.d,8\n"
"===>   Registering installation for lsof-4.88.d,8\n"
"===>  SECURITY NOTE:\n"
"      This port has installed the following binaries which execute with\n"
"      increased privileges.\n"
"/usr/local/sbin/lsof\n"
"#\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:826
msgid "Since `lsof` is a program that runs with increased privileges, a security warning is displayed as it is installed.  Once the installation is complete, the prompt will be returned."
msgstr "由于 `lsof` 是一个以增加权限运行的程序，所以在安装时将显示一个安全警告。安装完成后，将返回提示。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:831
msgid ""
"Some shells keep a cache of the commands that are available in the directories listed in the `PATH` environment variable, to speed up lookup operations for the executable file of these commands.  "
"Users of the `tcsh` shell should type `rehash` so that a newly installed command can be used without specifying its full path.  Use `hash -r` instead for the `sh` shell.  Refer to the documentation "
"for the shell for more information."
msgstr ""
"一些 shell 保留了 `PATH` 环境变量中列出的目录中可用的命令的缓存，以加快对这些命令的可执行文件的查找操作。`tcsh` shell 的用户应该输入 `rehash` ，这样就可以在不指定完整路径的情况下使用一个新安装的命令。"
"在 `sh` shell 中使用 `hash -r` 来代替。更多信息请参考 shell 的文档。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:834
msgid ""
"During installation, a working subdirectory is created which contains all the temporary files used during compilation.  Removing this directory saves disk space and minimizes the chance of problems "
"later when upgrading to the newer version of the port:"
msgstr "在安装过程中，会创建一个工作子目录，其中包含了编译过程中使用的所有临时文件。删除这个目录可以节省磁盘空间，并在以后升级到较新版本的 port 时尽量减少出现问题的机会："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:840
#, no-wrap
msgid ""
"# make clean\n"
"===>  Cleaning for lsof-88.d,8\n"
"#\n"
msgstr ""
"# make clean\n"
"===>  Cleaning for lsof-88.d,8\n"
"#\n"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:845
msgid "To save this extra step, instead use `make install clean` when compiling the port."
msgstr "为了节省这个额外的步骤，在编译 port 时应使用 `make install clean` 。"

#. type: Title ====
#: content/zh-cn/books/handbook/ports/_index.adoc:847
#, no-wrap
msgid "Customizing Ports Installation"
msgstr "定制 ports 安装"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:855
msgid ""
"Some ports provide build options which can be used to enable or disable application components, provide security options, or allow for other customizations.  Examples include package:www/firefox[], "
"package:security/gpgme[], and package:mail/sylpheed-claws[].  If the port depends upon other ports which have configurable options, it may pause several times for user interaction as the default "
"behavior is to prompt the user to select options from a menu.  To avoid this and do all of the configuration in one batch, run `make config-recursive` within the port skeleton.  Then, run `make "
"install [clean]` to compile and install the port."
msgstr ""
"一些 ports 提供了联编选项，可以用来启用或禁用应用程序组件，提供安全选项，或允许其他定制。例子包括 package:www/firefox[] 、package:security/gpgme[] 和 package:mail/sylpheed-claws[] 。如果这个 port 依"
"赖于其他有可配置选项的 port，它可能会因为用户的互动而暂停数次，因为默认行为是提示用户从菜单中选择选项。为了避免这种情况，并在一个批次中完成所有的配置，可以在 port 的骨架中运行"
" `make config-recursive` 。然后，运行 `make install [clean]` 来编译和安装这个 port。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:861
msgid ""
"When using `config-recursive`, the list of ports to configure are gathered by the `all-depends-list` target.  It is recommended to run `make config-recursive` until all dependent ports options have "
"been defined, and ports options screens no longer appear, to be certain that all dependency options have been configured."
msgstr ""
"当使用 `config-recursive` 时，要配置的 port 列表是由 `all-depends-list`  目标收集的。建议运行 `make config-recursive` 直到所有依赖的 ports 选项都被定义，并且不再出现 ports 选项屏幕，以确定所有的依赖"
"选项都被配置了。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:868
msgid ""
"There are several ways to revisit a port's build options menu in order to add, remove, or change these options after a port has been built.  One method is to `cd` into the directory containing the "
"port and type `make config`.  Another option is to use `make showconfig`.  Another option is to execute `make rmconfig` which will remove all selected options and allow you to start over.  All of "
"these options, and others, are explained in great detail in man:ports[7]."
msgstr ""
"有几种方法可以重新访问 port 的联编选项菜单，以便在 port 联编完成后添加、 删除或修改这些选项。一种方法是 `cd` 进入包含 port 的目录，然后输入 `make config` 。另一个方法是使用 `make showconfig` 。另一个"
"方法是执行 `make rmconfig` ，它将删除所有选定的选项并允许您重新开始。所有这些选项，以及其他选项，在 man:ports[7] 中都有详细的解释。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:872
msgid ""
"The ports system uses man:fetch[1] to download the source files, which supports various environment variables.  The `FTP_PASSIVE_MODE`, `FTP_PROXY`, and `FTP_PASSWORD` variables may need to be set if "
"the FreeBSD system is behind a firewall or FTP/HTTP proxy.  See man:fetch[3] for the complete list of supported variables."
msgstr ""
"ports 系统使用 man:fetch[1] 来下载源文件，它支持各种环境变量。如果 FreeBSD 系统位于防火墙或 FTP/HTTP 代理之后，可能需要设置 `FTP_PASSIVE_MODE` 、`FTP_PROXY` 和 `FTP_PASSWORD` 这些变量。请参阅"
" man:fetch[3] 以了解支持的变量的完整列表。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:877
msgid ""
"For users who cannot be connected to the Internet all the time, `make fetch` can be run within [.filename]#/usr/ports#, to fetch all distfiles, or within a category, such as [.filename]#/usr/ports/"
"net#, or within the specific port skeleton.  Note that if a port has any dependencies, running this command in a category or ports skeleton will _not_ fetch the distfiles of ports from another "
"category.  Instead, use `make fetch-recursive` to also fetch the distfiles for all the dependencies of a port."
msgstr ""
"对于那些不能保持连接到互联网的用户来说，`make fetch` 可以在 [.filename]#/usr/ports# 中运行，以获取所有的 distfiles，或在一个类别中，例如 [.filename]#/usr/ports/net# ，或在特定的 port 骨架中运行。请注"
"意，如果一个 port 有任何依赖关系，在一个类别或 port 骨架中运行此命令将不会获取另一个类别中的 port 的 distfiles。相反，使用 `make fetch-recursive` 来获取一个 port 的所有依赖关系的 distfiles。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:880
msgid ""
"In rare cases, such as when an organization has a local distfiles repository, the `MASTER_SITES` variable can be used to override the download locations specified in the [.filename]#Makefile#.  When "
"using, specify the alternate location:"
msgstr "在少数情况下，例如当一个组织有一个本地的 distfiles 仓库时，`MASTER_SITES` 变量可以用来覆盖 [.filename]#Makefile# 中指定的下载位置。在使用时，应指定备用的位置："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:886
#, no-wrap
msgid ""
"# cd /usr/ports/directory\n"
"# make MASTER_SITE_OVERRIDE= \\\n"
"ftp://ftp.organization.org/pub/FreeBSD/ports/distfiles/ fetch\n"
msgstr ""
"# cd /usr/ports/directory\n"
"# make MASTER_SITE_OVERRIDE= \\\n"
"ftp://ftp.organization.org/pub/FreeBSD/ports/distfiles/ fetch\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:889
msgid "The `WRKDIRPREFIX` and `PREFIX` variables can override the default working and target directories. For example:"
msgstr "`WRKDIRPREFIX` 和 `PREFIX` 变量可以覆盖默认的工作目录和目标目录。比如说："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:893
#, no-wrap
msgid "# make WRKDIRPREFIX=/usr/home/example/ports install\n"
msgstr "# make WRKDIRPREFIX=/usr/home/example/ports install\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:896
msgid "will compile the port in [.filename]#/usr/home/example/ports# and install everything under [.filename]#/usr/local#."
msgstr "将在 [.filename]#/usr/home/example/ports# 中编译 port，并在 [.filename]#/usr/local# 中安装一切。"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:900
#, no-wrap
msgid "# make PREFIX=/usr/home/example/local install\n"
msgstr "# make PREFIX=/usr/home/example/local install\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:903
msgid "will compile the port in [.filename]#/usr/ports# and install it in [.filename]#/usr/home/example/local#. And:"
msgstr "将在 [.filename]#/usr/ports# 中编译这个 port，并将其安装在 [.filename]#/usr/home/example/local# 。还有："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:907
#, no-wrap
msgid "# make WRKDIRPREFIX=../ports PREFIX=../local install\n"
msgstr "# make WRKDIRPREFIX=../ports PREFIX=../local install\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:910
msgid "will combine the two."
msgstr "将把这两者结合起来。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:913
msgid "These can also be set as environmental variables.  Refer to the manual page for your shell for instructions on how to set an environmental variable."
msgstr "也可以把这些设置为环境变量。关于如何设置环境变量的说明，请参考你的 shell 的手册页。"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:915
#, no-wrap
msgid "Removing Installed Ports"
msgstr "移除已安装的 ports"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:919
msgid "Installed ports can be uninstalled using `pkg delete`.  Examples for using this command can be found in the man:pkg-delete[8] manual page."
msgstr "已安装的 port 可以通过 `pkg delete` 来卸载。使用这一命令的例子可以在 man:pkg-delete[8] 手册中找到。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:921
msgid "Alternately, `make deinstall` can be run in the port's directory:"
msgstr "另外，也可以在 port 的目录中运行 `make deinstall` ："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:929
#, no-wrap
msgid ""
"# cd /usr/ports/sysutils/lsof\n"
"# make deinstall\n"
"===>  Deinstalling for sysutils/lsof\n"
"===>   Deinstalling\n"
"Deinstallation has been requested for the following 1 packages:\n"
msgstr ""
"# cd /usr/ports/sysutils/lsof\n"
"# make deinstall\n"
"===>  Deinstalling for sysutils/lsof\n"
"===>   Deinstalling\n"
"Deinstallation has been requested for the following 1 packages:\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:931
#, no-wrap
msgid "\tlsof-4.88.d,8\n"
msgstr "\tlsof-4.88.d,8\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:934
#, no-wrap
msgid ""
"The deinstallation will free 229 kB\n"
"[1/1] Deleting lsof-4.88.d,8... done\n"
msgstr ""
"The deinstallation will free 229 kB\n"
"[1/1] Deleting lsof-4.88.d,8... done\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:939
msgid ""
"It is recommended to read the messages as the port is uninstalled.  If the port has any applications that depend upon it, this information will be displayed but the uninstallation will proceed.  In "
"such cases, it may be better to reinstall the application in order to prevent broken dependencies."
msgstr "建议在卸载 port 的过程中阅读这些信息。如果这个 port 有任何依赖它的应用程序，这些信息将被显示出来，但卸载将继续进行。在这种情况下，为了防止依赖关系被破坏，重新安装该应用程序可能会更好。"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:941
#, no-wrap
msgid "Upgrading Ports"
msgstr "升级 ports"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:945
msgid "Over time, newer versions of software become available in the Ports Collection.  This section describes how to determine which software can be upgraded and how to perform the upgrade."
msgstr "随着时间的推移，Ports Collection 中会出现更新的软件版本。本节介绍了如何确定哪些软件可以升级，以及如何执行升级。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:949
msgid ""
"To determine if newer versions of installed ports are available, ensure that the latest version of the ports tree is installed, using the updating command described in either <<ports-using-portsnap-"
"method, “Portsnap Method”>> or <<ports-using-git-method, “Git Method”>>.  On FreeBSD 10 and later, or if the system has been converted to pkg, the following command will list the installed ports which "
"are out of date:"
msgstr ""
"要确定所安装的 port 是否有更新的版本，应使用 “Portsnap 方法”或 “Git 方法”中描述的更新命令，确保安装了最新版本的 ports 树。在 FreeBSD 10 及更高版本上，或者如果系统已经转换为 pkg，下面的命令将列出已经安装"
"的过时的 ports："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:953
#, no-wrap
msgid "# pkg version -l \"<\"\n"
msgstr "# pkg version -l \"<\"\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:956
msgid "For FreeBSD 9._X_ and lower, the following command will list the installed ports that are out of date:"
msgstr "对于 FreeBSD 9._X_ 和更低版本，以下命令将列出已安装的过期 ports："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:960
#, no-wrap
msgid "# pkg_version -l \"<\"\n"
msgstr "# pkg_version -l \"<\"\n"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:967
msgid ""
"Before attempting an upgrade, read [.filename]#/usr/ports/UPDATING# from the top of the file to the date closest to the last time ports were upgraded or the system was installed.  This file describes "
"various issues and additional steps users may encounter and need to perform when updating a port, including such things as file format changes, changes in locations of configuration files, or any "
"incompatibilities with previous versions.  Make note of any instructions which match any of the ports that need upgrading and follow these instructions when performing the upgrade."
msgstr ""
"在尝试升级之前，请从文件的顶部阅读 [.filename]#/usr/ports/UPDATING# ，以确定与上次升级 port 或安装系统最接近的日期。这个文件描述了用户在更新 port 时可能遇到的各种问题和需要执行的额外步骤，包括诸如文件"
"格式的变化、配置文件位置的变化，以及与先前版本不兼容的情况。请注意任何与需要升级的 port 相匹配的说明，并在执行升级时遵循这些说明。"

#. type: Title ====
#: content/zh-cn/books/handbook/ports/_index.adoc:970
#, no-wrap
msgid "Tools to Upgrade and Manage Ports"
msgstr "升级和管理 ports 的工具"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:974
msgid "The Ports Collection contains several utilities to perform the actual upgrade.  Each has its strengths and weaknesses."
msgstr "Ports Collection 包含几个实用程序来执行实际的升级。每一个都有它的优势和劣势。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:977
msgid "Historically, most installations used either Portmaster or Portupgrade.  Synth is a newer alternative."
msgstr "过去，大多数安装都使用 Portmaster 或 Portupgrade。Synth 是一个较新的选择。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:982
msgid "The choice of which tool is best for a particular system is up to the system administrator.  It is recommended practice to back up your data before using any of these tools."
msgstr "哪种工具最适合某个特定的系统，都由系统管理员来选择。在使用这些工具之前，建议先备份你的数据。"

#. type: Title ====
#: content/zh-cn/books/handbook/ports/_index.adoc:985
#, no-wrap
msgid "Upgrading Ports Using Portmaster"
msgstr "使用 Portmaster 升级 ports"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:990
msgid ""
"package:ports-mgmt/portmaster[] is a very small utility for upgrading installed ports.  It is designed to use the tools installed with the FreeBSD base system without depending on other ports or "
"databases.  To install this utility as a port:"
msgstr "package:ports-mgmt/portmaster[] 是一个非常迷你的工具，用于升级已安装的 ports。它被设计用来使用 FreeBSD 基本系统中安装的工具，而不需要依赖其他 ports 或数据库。要把这个工具作为一个 port 来安装："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:995
#, no-wrap
msgid ""
"# cd /usr/ports/ports-mgmt/portmaster\n"
"# make install clean\n"
msgstr ""
"# cd /usr/ports/ports-mgmt/portmaster\n"
"# make install clean\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:998
msgid "Portmaster defines four categories of ports:"
msgstr "Portmaster 定义了四种类型的 ports："

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1000
msgid "Root port: has no dependencies and is not a dependency of any other ports."
msgstr "根 ports：没有依赖关系，也不是任何其他 ports 的依赖关系。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1001
msgid "Trunk port: has no dependencies, but other ports depend upon it."
msgstr "中继 ports：没有依赖关系，但其他 ports 依赖它。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1002
msgid "Branch port: has dependencies and other ports depend upon it."
msgstr "分支 ports：有依赖关系，其他 ports 依赖于它。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1003
msgid "Leaf port: has dependencies but no other ports depend upon it."
msgstr "叶子 ports：有依赖关系但没有其他 ports 依赖它。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1005
msgid "To list these categories and search for updates:"
msgstr "要列出这些类别并搜索更新："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1026
#, no-wrap
msgid ""
"# portmaster -L\n"
"===>>> Root ports (No dependencies, not depended on)\n"
"===>>> ispell-3.2.06_18\n"
"===>>> screen-4.0.3\n"
"        ===>>> New version available: screen-4.0.3_1\n"
"===>>> tcpflow-0.21_1\n"
"===>>> 7 root ports\n"
"...\n"
"===>>> Branch ports (Have dependencies, are depended on)\n"
"===>>> apache22-2.2.3\n"
"        ===>>> New version available: apache22-2.2.8\n"
"...\n"
"===>>> Leaf ports (Have dependencies, not depended on)\n"
"===>>> automake-1.9.6_2\n"
"===>>> bash-3.1.17\n"
"        ===>>> New version available: bash-3.2.33\n"
"...\n"
"===>>> 32 leaf ports\n"
msgstr ""
"# portmaster -L\n"
"===>>> Root ports (No dependencies, not depended on)\n"
"===>>> ispell-3.2.06_18\n"
"===>>> screen-4.0.3\n"
"        ===>>> New version available: screen-4.0.3_1\n"
"===>>> tcpflow-0.21_1\n"
"===>>> 7 root ports\n"
"...\n"
"===>>> Branch ports (Have dependencies, are depended on)\n"
"===>>> apache22-2.2.3\n"
"        ===>>> New version available: apache22-2.2.8\n"
"...\n"
"===>>> Leaf ports (Have dependencies, not depended on)\n"
"===>>> automake-1.9.6_2\n"
"===>>> bash-3.1.17\n"
"        ===>>> New version available: bash-3.2.33\n"
"...\n"
"===>>> 32 leaf ports\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1029
#, no-wrap
msgid ""
"===>>> 137 total installed ports\n"
"        ===>>> 83 have new versions available\n"
msgstr ""
"===>>> 137 total installed ports\n"
"        ===>>> 83 have new versions available\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1032
msgid "This command is used to upgrade all outdated ports:"
msgstr "该命令用于升级所有过时的 ports："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1036
#, no-wrap
msgid "# portmaster -a\n"
msgstr "# portmaster -a\n"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1046
msgid ""
"By default, Portmaster makes a backup package before deleting the existing port.  If the installation of the new version is successful, Portmaster deletes the backup.  Using `-b` instructs Portmaster "
"not to automatically delete the backup.  Adding `-i` starts Portmaster in interactive mode, prompting for confirmation before upgrading each port.  Many other options are available.  Read through the "
"manual page for man:portmaster[8] for details regarding their usage."
msgstr ""
"在默认情况下，Portmaster 在删除现有 ports 之前会做一个备份包。如果新版本的安装成功，Portmaster 将删除备份。使用 `-b` 可以指示 Portmaster 不自动删除备份。添加 `-i` 可以在交互式模式下启动 Portmaster，在升"
"级每个 port 之前提示确认。还有许多其他选项可用。请阅读 man:portmaster[8] 的手册以了解它们的详细用法。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1049
msgid "If errors are encountered during the upgrade process, add `-f` to upgrade and rebuild all ports:"
msgstr "如果在升级过程中遇到错误，可以添加 `-f` 来升级和重建所有 ports："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1053
#, no-wrap
msgid "# portmaster -af\n"
msgstr "# portmaster -af\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1057
msgid ""
"Portmaster can also be used to install new ports on the system, upgrading all dependencies before building and installing the new port.  To use this function, specify the location of the port in the "
"Ports Collection:"
msgstr "Portmaster 也可以用来在系统中安装新的 port，在联编和安装新 port 之前升级所有的依赖关系。要使用这个功能，需要在 Ports Collection 中指定 ports 的位置："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1061
#, no-wrap
msgid "# portmaster shells/bash\n"
msgstr "# portmaster shells/bash\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1064
msgid "More information about package:ports-mgmt/portmaster[] may be found in its [.filename]#pkg-descr#."
msgstr "关于 package:ports-mgmt/portmaster[] 的更多信息可以在其 [.filename]#pkg-descr# 中找到。"

#. type: Title ====
#: content/zh-cn/books/handbook/ports/_index.adoc:1066
#, no-wrap
msgid "Upgrading Ports Using Portupgrade"
msgstr "使用 Portupgrade 升级 ports"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1071
msgid ""
"package:ports-mgmt/portupgrade[] is another utility that can be used to upgrade ports.  It installs a suite of applications which can be used to manage ports.  However, it is dependent upon Ruby. To "
"install the port:"
msgstr "package:ports-mgmt/portupgrade[] 是另一个可以用来升级 ports 的工具。它安装了一套可以用来管理 ports 的应用程序。然而，它依赖于 Ruby。要安装这个 ports："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1076
#, no-wrap
msgid ""
"# cd /usr/ports/ports-mgmt/portupgrade\n"
"# make install clean\n"
msgstr ""
"# cd /usr/ports/ports-mgmt/portupgrade\n"
"# make install clean\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1079
msgid "Before performing an upgrade using this utility, it is recommended to scan the list of installed ports using `pkgdb -F` and to fix all the inconsistencies it reports."
msgstr "在使用这个工具进行升级之前，建议使用 `pkgdb -F` 扫描已安装的 port 列表，并修正它报告的所有不一致之处。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1082
msgid "To upgrade all the outdated ports installed on the system, use `portupgrade -a`.  Alternately, include `-i` to be asked for confirmation of every individual upgrade:"
msgstr "要升级系统中安装的所有过时的 port，请使用 `portupgrade -a` 。另外，也可以使用 `-i` 来确认每一次的升级："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1086
#, no-wrap
msgid "# portupgrade -ai\n"
msgstr "# portupgrade -ai\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1090
msgid ""
"To upgrade only a specified application instead of all available ports, use `portupgrade _pkgname_`.  It is very important to include `-R` to first upgrade all the ports required by the given "
"application:"
msgstr "要升级一个指定的应用程序而不是所有可用的 ports，请使用 `portupgrade _pkgname_` 。包括 `-R` 是非常重要的，它可以首先升级指定应用程序所需的所有 ports："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1094
#, no-wrap
msgid "# portupgrade -R firefox\n"
msgstr "# portupgrade -R firefox\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1101
msgid ""
"If `-P` is included, Portupgrade searches for available packages in the local directories listed in `PKG_PATH`.  If none are available locally, it then fetches packages from a remote site.  If "
"packages can not be found locally or fetched remotely, Portupgrade will use ports.  To avoid using ports entirely, specify `-PP`.  This last set of options tells Portupgrade to abort if no packages "
"are available:"
msgstr ""
"如果包含 `-P` ，Portupgrade 会在 `PKG_PATH` 中列出的本地目录中搜索可用的软件包。如果本地没有可用的软件包，它就会从远程站点获取软件包。如果在本地找不到软件包或无法从远程获取，Portupgrade 将使用 ports。要"
"完全避免使用 ports，请指定 `-PP` 。这最后一组选项告诉 Portupgrade，如果没有可用的包，就放弃："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1105
#, no-wrap
msgid "# portupgrade -PP gnome3\n"
msgstr "# portupgrade -PP gnome3\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1109
msgid ""
"To just fetch the port distfiles, or packages, if `-P` is specified, without building or installing anything, use `-F`.  For further information on all of the available switches, refer to the manual "
"page for `portupgrade`."
msgstr "如果指定了 `-P` ，则只需获取 port distfiles 或 packages，而不需要编译或安装任何东西，请使用 `-F` 。关于所有可用开关的进一步信息，请参考 `portupgrade` 的手册。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1111
msgid "More information about package:ports-mgmt/portupgrade[] may be found in its [.filename]#pkg-descr#."
msgstr "关于 package:ports-mgmt/portupgrade[] 的更多信息可以在其 [.filename]#pkg-descr# 中找到。"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:1113
#, no-wrap
msgid "Ports and Disk Space"
msgstr "ports 和磁盘空间"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1119
msgid ""
"Using the Ports Collection will use up disk space over time.  After building and installing a port, running `make clean` within the ports skeleton will clean up the temporary [.filename]#work# "
"directory.  If Portmaster is used to install a port, it will automatically remove this directory unless `-K` is specified.  If Portupgrade is installed, this command will remove all [.filename]#work# "
"directories found within the local copy of the Ports Collection:"
msgstr ""
"使用 Ports Collection 会随着时间的推移而耗尽磁盘空间。在联编和安装了一个 port 之后，在 ports 骨架中运行 `make clean` 将清理临时 [.filename]#work# 目录。如果使用 Portmaster 来安装一个 port，它将自动删除"
"这个目录，除非指定了 `-K` 。如果安装了 Portupgrade，这个命令将删除在 Ports Collection 本地副本中发现的所有 [.filename]#work# 目录："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1123
#, no-wrap
msgid "# portsclean -C\n"
msgstr "# portsclean -C\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1127
msgid ""
"In addition, outdated source distribution files accumulate in [.filename]#/usr/ports/distfiles# over time.  To use Portupgrade to delete all the distfiles that are no longer referenced by any ports:"
msgstr "此外，过时的源码包文件会随着时间的推移在 [.filename]#/usr/ports/distfiles# 中积累起来。要使用 Portupgrade 来删除所有不再被任何 ports 引用的 distfiles："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1131
#, no-wrap
msgid "# portsclean -D\n"
msgstr "# portsclean -D\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1134
msgid "Portupgrade can remove all distfiles not referenced by any port currently installed on the system:"
msgstr "Portupgrade 可以删除所有不被当前安装在系统上的任何 port 引用的 distfiles："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1138
#, no-wrap
msgid "# portsclean -DD\n"
msgstr "# portsclean -DD\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1141
msgid "If Portmaster is installed, use:"
msgstr "如果安装了 Portmaster，请使用："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1145
#, no-wrap
msgid "# portmaster --clean-distfiles\n"
msgstr "# portmaster --clean-distfiles\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1148
msgid "By default, this command is interactive and prompts the user to confirm if a distfile should be deleted."
msgstr "默认情况下，该命令是交互式的，提示用户确认是否应该删除一个 distfile。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1150
msgid "In addition to these commands, package:ports-mgmt/pkg_cutleaves[] automates the task of removing installed ports that are no longer needed."
msgstr "除了这些命令之外， package:ports-mgmt/pkg_cutleaves[] 还会自动删除已安装的、不再需要的 ports。"

#. type: Title ==
#: content/zh-cn/books/handbook/ports/_index.adoc:1152
#, no-wrap
msgid "Building Packages with Poudriere"
msgstr "使用 Poudriere 构建软件包"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1159
msgid ""
"Poudriere is a `BSD`-licensed utility for creating and testing FreeBSD packages.  It uses FreeBSD jails to set up isolated compilation environments.  These jails can be used to build packages for "
"versions of FreeBSD that are different from the system on which it is installed, and also to build packages for i386 if the host is an amd64 system.  Once the packages are built, they are in a layout "
"identical to the official mirrors.  These packages are usable by man:pkg[8] and other package management tools."
msgstr ""
"Poudriere 是一个采用 `BSD` 许可证的工具，用于创建和测试 FreeBSD 软件包。它使用 FreeBSD jails 来建立隔离的编译环境。这些 jail 可以用来为与已安装系统不同的 FreeBSD 版本构建软件包，如果主机是 amd64 系统，"
"还可以为 i386 构建软件包。构建了这些包后，它们的布局就与官方镜像相同了。这些软件包可以被 man:pkg[8] 和其他软件包管理工具使用。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1164
msgid ""
"Poudriere is installed using the package:ports-mgmt/poudriere[] package or port.  The installation includes a sample configuration file [.filename]#/usr/local/etc/poudriere.conf.sample#.  Copy this "
"file to [.filename]#/usr/local/etc/poudriere.conf#.  Edit the copied file to suit the local configuration."
msgstr ""
"Poudriere 可通过 package:ports-mgmt/poudriere[] 包或 port 安装。该安装包括一个配置文件样本 [.filename]#/usr/local/etc/poudriere.conf.sample# 。将此文件复制到"
" [.filename]#/usr/local/etc/poudriere.conf# 。编辑复制的文件以适应本地的配置。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1170
msgid ""
"While `ZFS` is not required on the system running poudriere, it is beneficial.  When `ZFS` is used, `ZPOOL` must be specified in [.filename]#/usr/local/etc/poudriere.conf# and `FREEBSD_HOST` should be "
"set to a nearby mirror.  Defining `CCACHE_DIR` enables the use of package:devel/ccache[] to cache compilation and reduce build times for frequently-compiled code.  It may be convenient to put "
"poudriere datasets in an isolated tree mounted at [.filename]#/poudriere#.  Defaults for the other configuration values are adequate."
msgstr ""
"虽然在运行 poudriere 的系统上 `ZFS` 不是必需的，但它是有益的。当使用 `ZFS` 时，必须在 [.filename]#/usr/local/etc/poudriere.conf# 中指定 `ZPOOL`，并且 `FREEBSD_HOST` 应该被设置为附近的镜像。定义 "
"`CCACHE_DIR` 可以使用 package:devel/ccache[] 来缓存编译，减少经常编译的代码的构建时间。将 poudriere 数据集放在一个安装在 [.filename]#/poudriere# 的隔离树中可能会很方便。其他配置值的默认值是足够的。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1174
msgid ""
"The number of processor cores detected is used to define how many builds will run in parallel.  Supply enough virtual memory, either with `RAM` or swap space.  If virtual memory runs out, the "
"compilation jails will stop and be torn down, resulting in weird error messages."
msgstr "检测到的处理器内核数量用于定义多少个构建将并行运行。提供足够的虚拟内存，可以用 `RAM` 或交换空间。如果虚拟内存用完了，编译 Jail 就会停止并被拆掉，引发奇怪的错误信息。"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:1176
#, no-wrap
msgid "Initialize Jails and Port Trees"
msgstr "初始化 Jail 和 ports 树"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1182
msgid ""
"After configuration, initialize poudriere so that it installs a jail with the required FreeBSD tree and a ports tree.  Specify a name for the jail using `-j` and the FreeBSD version with `-v`.  On "
"systems running FreeBSD/amd64, the architecture can be set with `-a` to either `i386` or `amd64`.  The default is the architecture shown by `uname`."
msgstr ""
"配置完成后，初始化 poudriere，使其安装一个带有所需 FreeBSD 树和 ports 树的 jail。用 `-j` 指定 Jail 的名称，用 `-v` 指定 FreeBSD 版本。在运行 FreeBSD/amd64 的系统上，可以用 `-a` 设置架构为 i386 或 "
"amd64。默认是 `uname` 显示的架构。"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1229
#, no-wrap
msgid ""
"# poudriere jail -c -j 11amd64 -v 11.4-RELEASE\n"
"[00:00:00] Creating 11amd64 fs at /poudriere/jails/11amd64... done\n"
"[00:00:00] Using pre-distributed MANIFEST for FreeBSD 11.4-RELEASE amd64\n"
"[00:00:00] Fetching base for FreeBSD 11.4-RELEASE amd64\n"
"/poudriere/jails/11amd64/fromftp/base.txz              125 MB 4110 kBps    31s\n"
"[00:00:33] Extracting base... done\n"
"[00:00:54] Fetching src for FreeBSD 11.4-RELEASE amd64\n"
"/poudriere/jails/11amd64/fromftp/src.txz               154 MB 4178 kBps    38s\n"
"[00:01:33] Extracting src... done\n"
"[00:02:31] Fetching lib32 for FreeBSD 11.4-RELEASE amd64\n"
"/poudriere/jails/11amd64/fromftp/lib32.txz              24 MB 3969 kBps    06s\n"
"[00:02:38] Extracting lib32... done\n"
"[00:02:42] Cleaning up... done\n"
"[00:02:42] Recording filesystem state for clean... done\n"
"[00:02:42] Upgrading using ftp\n"
"/etc/resolv.conf -> /poudriere/jails/11amd64/etc/resolv.conf\n"
"Looking up update.FreeBSD.org mirrors... 3 mirrors found.\n"
"Fetching public key from update4.freebsd.org... done.\n"
"Fetching metadata signature for 11.4-RELEASE from update4.freebsd.org... done.\n"
"Fetching metadata index... done.\n"
"Fetching 2 metadata files... done.\n"
"Inspecting system... done.\n"
"Preparing to download files... done.\n"
"Fetching 124 patches.....10....20....30....40....50....60....70....80....90....100....110....120.. done.\n"
"Applying patches... done.\n"
"Fetching 6 files... done.\n"
"The following files will be added as part of updating to\n"
"11.4-RELEASE-p1:\n"
"/usr/src/contrib/unbound/.github\n"
"/usr/src/contrib/unbound/.github/FUNDING.yml\n"
"/usr/src/contrib/unbound/contrib/drop2rpz\n"
"/usr/src/contrib/unbound/contrib/unbound_portable.service.in\n"
"/usr/src/contrib/unbound/services/rpz.c\n"
"/usr/src/contrib/unbound/services/rpz.h\n"
"/usr/src/lib/libc/tests/gen/spawnp_enoexec.sh\n"
"The following files will be updated as part of updating to\n"
"11.4-RELEASE-p1:\n"
"[…]\n"
"Installing updates...Scanning //usr/share/certs/blacklisted for certificates...\n"
"Scanning //usr/share/certs/trusted for certificates...\n"
" done.\n"
"11.4-RELEASE-p1\n"
"[00:04:06] Recording filesystem state for clean... done\n"
"[00:04:07] Jail 11amd64 11.4-RELEASE-p1 amd64 is ready to be used\n"
msgstr ""
"# poudriere jail -c -j 11amd64 -v 11.4-RELEASE\n"
"[00:00:00] Creating 11amd64 fs at /poudriere/jails/11amd64... done\n"
"[00:00:00] Using pre-distributed MANIFEST for FreeBSD 11.4-RELEASE amd64\n"
"[00:00:00] Fetching base for FreeBSD 11.4-RELEASE amd64\n"
"/poudriere/jails/11amd64/fromftp/base.txz              125 MB 4110 kBps    31s\n"
"[00:00:33] Extracting base... done\n"
"[00:00:54] Fetching src for FreeBSD 11.4-RELEASE amd64\n"
"/poudriere/jails/11amd64/fromftp/src.txz               154 MB 4178 kBps    38s\n"
"[00:01:33] Extracting src... done\n"
"[00:02:31] Fetching lib32 for FreeBSD 11.4-RELEASE amd64\n"
"/poudriere/jails/11amd64/fromftp/lib32.txz              24 MB 3969 kBps    06s\n"
"[00:02:38] Extracting lib32... done\n"
"[00:02:42] Cleaning up... done\n"
"[00:02:42] Recording filesystem state for clean... done\n"
"[00:02:42] Upgrading using ftp\n"
"/etc/resolv.conf -> /poudriere/jails/11amd64/etc/resolv.conf\n"
"Looking up update.FreeBSD.org mirrors... 3 mirrors found.\n"
"Fetching public key from update4.freebsd.org... done.\n"
"Fetching metadata signature for 11.4-RELEASE from update4.freebsd.org... done.\n"
"Fetching metadata index... done.\n"
"Fetching 2 metadata files... done.\n"
"Inspecting system... done.\n"
"Preparing to download files... done.\n"
"Fetching 124 patches.....10....20....30....40....50....60....70....80....90....100....110....120.. done.\n"
"Applying patches... done.\n"
"Fetching 6 files... done.\n"
"The following files will be added as part of updating to\n"
"11.4-RELEASE-p1:\n"
"/usr/src/contrib/unbound/.github\n"
"/usr/src/contrib/unbound/.github/FUNDING.yml\n"
"/usr/src/contrib/unbound/contrib/drop2rpz\n"
"/usr/src/contrib/unbound/contrib/unbound_portable.service.in\n"
"/usr/src/contrib/unbound/services/rpz.c\n"
"/usr/src/contrib/unbound/services/rpz.h\n"
"/usr/src/lib/libc/tests/gen/spawnp_enoexec.sh\n"
"The following files will be updated as part of updating to\n"
"11.4-RELEASE-p1:\n"
"[…]\n"
"Installing updates...Scanning //usr/share/certs/blacklisted for certificates...\n"
"Scanning //usr/share/certs/trusted for certificates...\n"
" done.\n"
"11.4-RELEASE-p1\n"
"[00:04:06] Recording filesystem state for clean... done\n"
"[00:04:07] Jail 11amd64 11.4-RELEASE-p1 amd64 is ready to be used\n"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1236
#, no-wrap
msgid ""
"# poudriere ports -c -p local -m git+https\n"
"[00:00:00] Creating local fs at /poudriere/ports/local... done\n"
"[00:00:00] Checking out the ports tree... done\n"
msgstr ""
"# poudriere ports -c -p local -m git+https\n"
"[00:00:00] Creating local fs at /poudriere/ports/local... done\n"
"[00:00:00] Checking out the ports tree... done\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1241
msgid ""
"On a single computer, poudriere can build ports with multiple configurations, in multiple jails, and from different port trees.  Custom configurations for these combinations are called _sets_.  See "
"the CUSTOMIZATION section of man:poudriere[8] for details after package:ports-mgmt/poudriere[] or package:ports-mgmt/poudriere-devel[] is installed."
msgstr ""
"在一台电脑上，poudriere 可以在多个 Jail 中，从不同的 ports 树上建立多个配置的 ports。这些组合的自定义配置被称为 _集_ 。在安装了 package:ports-mgmt/poudriere[] 或 package:ports-mgmt/poudriere-devel[] 之"
"后，请参阅 man:poudriere[8] 的 CUSTOMIZATION 部分来了解详情。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1245
msgid ""
"The basic configuration shown here puts a single jail-, port-, and set-specific [.filename]#make.conf# in [.filename]#/usr/local/etc/poudriere.d#.  The filename in this example is created by combining "
"the jail name, port name, and set name: [.filename]#11amd64-local-workstation-make.conf#.  The system [.filename]#make.conf# and this new file are combined at build time to create the [.filename]#make."
"conf# used by the build jail."
msgstr ""
"这里显示的基本配置是在 [.filename]#/usr/local/etc/poudriere.d# 中放置一个特定于 Jail-、ports- 和 set- 的 [.filename]#make.conf# 。本例中的文件名是通过结合 jail 名、 port 名和 set 名创建的:"
" [.filename]#11amd64-local-workstation-make.conf#。系统的 [.filename]#make.conf# 和这个新文件在构建时被合并，以创建构建 Jail 所使用的 [.filename]#make.conf# 。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1247
msgid "Packages to be built are entered in [.filename]#11amd64-local-workstation-pkglist#:"
msgstr "要构建的软件包被输入 [.filename]#11amd64-local-workstation-pkglist# 中："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1254
#, no-wrap
msgid ""
"editors/emacs\n"
"devel/git\n"
"ports-mgmt/pkg\n"
"...\n"
msgstr ""
"editors/emacs\n"
"devel/git\n"
"ports-mgmt/pkg\n"
"...\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1257
msgid "Options and dependencies for the specified ports are configured:"
msgstr "配置了指定 ports 的选项和依赖关系："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1261
#, no-wrap
msgid "# poudriere options -j 11amd64 -p local -z workstation -f 11amd64-local-workstation-pkglist\n"
msgstr "# poudriere options -j 11amd64 -p local -z workstation -f 11amd64-local-workstation-pkglist\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1264
msgid "Finally, packages are built and a package repository is created:"
msgstr "最后，软件包被构建，并创建一个软件包库："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1268
#, no-wrap
msgid "# poudriere bulk -j 11amd64 -p local -z workstation -f 11amd64-local-workstation-pkglist\n"
msgstr "# poudriere bulk -j 11amd64 -p local -z workstation -f 11amd64-local-workstation-pkglist\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1272
msgid ""
"While running, pressing kbd:[Ctrl+t] displays the current state of the build.  Poudriere also builds files in [.filename]#/poudriere/logs/bulk/jailname# that can be used with a web server to display "
"build information."
msgstr "在运行过程中，按 kbd:[Ctrl+t] 会显示当前的构建状态。Poudriere 还在 [.filename]#/poudriere/logs/bulk/jailname# 中建立了一些文件，这些文件可以用网络服务器来显示构建信息。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1274
msgid "After completion, the new packages are now available for installation from the poudriere repository."
msgstr "完成后，现在可以从 poudriere 资源库中安装新的软件包。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1276
msgid "For more information on using poudriere, see man:poudriere[8] and the main web site, https://github.com/freebsd/poudriere/wiki[]."
msgstr "关于使用 poudriere 的更多信息，见 man:poudriere[8] 和主网站 https://github.com/freebsd/poudriere/wiki[] 。"

#. type: Title ===
#: content/zh-cn/books/handbook/ports/_index.adoc:1277
#, no-wrap
msgid "Configuring pkg Clients to Use a Poudriere Repository"
msgstr "配置 pkg 客户端以使用 Poudriere 存储库"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1282
msgid ""
"While it is possible to use both a custom repository along side of the official repository, sometimes it is useful to disable the official repository.  This is done by creating a configuration file "
"that overrides and disables the official configuration file.  Create [.filename]#/usr/local/etc/pkg/repos/FreeBSD.conf# that contains the following:"
msgstr ""
"虽然可以同时使用自定义版本库和官方版本库，但有时禁用官方版本库也很有用。这可以通过创建一个配置文件来实现，该文件覆盖并禁用官方配置文件。创建 [.filename]#/usr/local/etc/pkg/repos/FreeBSD.conf# ，其中包"
"含以下内容:"

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1288
#, no-wrap
msgid ""
"FreeBSD: {\n"
"\tenabled: no\n"
"}\n"
msgstr ""
"FreeBSD: {\n"
"\tenabled: no\n"
"}\n"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1292
msgid ""
"Usually it is easiest to serve a poudriere repository to the client machines via HTTP.  Set up a webserver to serve up the package directory, for instance: [.filename]#/usr/local/poudriere/data/"
"packages/11amd64#, where [.filename]#11amd64# is the name of the build."
msgstr "通常情况下，通过 HTTP 向客户机提供软件包库是最简单的。设置一个网络服务器来提供软件包目录，例如。[.filename]#/usr/local/poudriere/data/packages/11amd64# ，其中 [.filename]#11amd64# 是构建的名称。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1295
msgid "If the URL to the package repository is: `http://pkg.example.com/11amd64`, then the repository configuration file in [.filename]#/usr/local/etc/pkg/repos/custom.conf# would look like:"
msgstr "如果软件包仓库的URL是： `http://pkg.example.com/11amd64` ，那么 [.filename]#/usr/local/etc/pkg/repos/custom.conf# 中的仓库配置文件会是这样的："

#. type: delimited block . 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1302
#, no-wrap
msgid ""
"custom: {\n"
"\turl: \"http://pkg.example.com/11amd64\",\n"
"\tenabled: yes,\n"
"}\n"
msgstr ""
"custom: {\n"
"\turl: \"http://pkg.example.com/11amd64\",\n"
"\tenabled: yes,\n"
"}\n"

#. type: Title ==
#: content/zh-cn/books/handbook/ports/_index.adoc:1305
#, no-wrap
msgid "Post-Installation Considerations"
msgstr "安装后的注意事项"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1309
msgid ""
"Regardless of whether the software was installed from a binary package or port, most third-party applications require some level of configuration after installation.  The following commands and "
"locations can be used to help determine what was installed with the application."
msgstr "不管软件是通过二进制包还是 ports 安装的，大多数第三方应用程序在安装后都需要一定程度的配置。下面的命令和位置可以用来帮助确定应用程序的安装内容。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1311
msgid ""
"Most applications install at least one default configuration file in [.filename]#/usr/local/etc#. In cases where an application has a large number of configuration files, a subdirectory will be "
"created to hold them. Often, sample configuration files are installed which end with a suffix such as [.filename]#.sample#. The configuration files should be reviewed and possibly edited to meet the "
"system's needs. To edit a sample file, first copy it without the [.filename]#.sample# extension."
msgstr ""
"多数应用程序在 [.filename]#/usr/local/etc# 中至少安装一个默认配置文件。如果这个应用程序有大量的配置文件，将创建一个子目录来存放这些文件。通常，安装的样本配置文件以 [.filename]#.sample# 等后缀结尾。应该"
"查阅并编辑这些配置文件以满足系统的需要。要编辑一个样本文件，首先要把它复制到没有 [.filename]#.sample# 扩展名的地方。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1312
msgid ""
"Applications which provide documentation will install it into [.filename]#/usr/local/share/doc# and many applications also install manual pages. This documentation should be consulted before "
"continuing."
msgstr "应用程序提供的文档将会被安装到 [.filename]#/usr/local/share/doc# ，许多应用程序还会安装手册页。在继续使用之前，应该查阅这些文档。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1313
msgid ""
"Some applications run services which must be added to [.filename]#/etc/rc.conf# before starting the application. These applications usually install a startup script in [.filename]#/usr/local/etc/rc."
"d#. See crossref:config[configtuning-starting-services,Starting Services] for more information."
msgstr "一些应用程序运行的服务必须在启动应用程序之前被添加到 [.filename]#/etc/rc.conf# 中。这些应用程序通常在 [.filename]#/usr/local/etc/rc.d# 中安装一个启动脚本，更多信息见启动服务。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1318
msgid ""
"By design, applications do not run their startup script upon installation, nor do they run their stop script upon deinstallation or upgrade.  This decision is left to the individual system "
"administrator."
msgstr "根据设计，在安装时不运行应用程序的启动脚本，在卸载或升级时也不运行其停止脚本。这个决定是留给各个系统管理员的。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1321
msgid "Users of man:csh[1] should run `rehash` to rebuild the known binary list in the shells `PATH`."
msgstr "man:csh[1] 的用户应该运行 `rehash` 来重建 shells `PATH` 中的已知二进制列表。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1322
msgid "Use `pkg info` to determine which files, man pages, and binaries were installed with the application."
msgstr "使用 `pkg info` 来确定哪些文件、手册和二进制文件是与应用程序一起安装的。"

#. type: Title ==
#: content/zh-cn/books/handbook/ports/_index.adoc:1324
#, no-wrap
msgid "Dealing with Broken Ports"
msgstr "如何处理损坏的 port"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1327
msgid "When a port does not build or install, try the following:"
msgstr "当不能构建或安装一个 port 时，请尝试以下方法："

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1329
msgid "Search to see if there is a fix pending for the port in the link:https://www.FreeBSD.org/support/[Problem Report database]. If so, implementing the proposed fix may fix the issue."
msgstr "搜索一下 link:https://www.FreeBSD.org/support/[Problem Report database] 中是否有针对该 port 的待修复问题。如果有的话，采纳建议的修复方案可能会解决这个问题。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1330
msgid ""
"Ask the maintainer of the port for help. Type `make maintainer` in the ports skeleton or read the port's [.filename]#Makefile# to find the maintainer's email address. Remember to include the output "
"leading up to the error in the email to the maintainer."
msgstr "向 port 的维护者寻求帮助。在 ports 的文件夹中输入 `make maintainer` 或阅读 port 的 [.filename]#Makefile# 来找到维护者的电子邮件地址。记得在发给维护者的邮件中包含导致错误的输出。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1336
msgid ""
"Some ports are not maintained by an individual but instead by a group maintainer represented by a extref:{mailing-list-faq}[mailing list].  Many, but not all, of these addresses look like mailto:"
"freebsd-listname@FreeBSD.org[freebsd-listname@FreeBSD.org].  Please take this into account when sending an email."
msgstr ""
"有些 port 不是由个人维护的，而是由一个 extref:{mailing-list-faq}[mailing list] 所代表的团体维护者维护的。许多，但不是全部的这些地址看起来像 mailto:freebsd-listname@FreeBSD.org[freebsd-listname@FreeBSD.org] 。"
"在发送电子邮件时请考虑到这一点。"

#. type: delimited block = 4
#: content/zh-cn/books/handbook/ports/_index.adoc:1339
msgid ""
"In particular, ports maintained by mailto:ports@FreeBSD.org[ports@FreeBSD.org] are not maintained by a specific individual.  Instead, any fixes and support come from the general community who "
"subscribe to that mailing list. More volunteers are always needed!"
msgstr "特别是，由 mailto:ports@FreeBSD.org[ports@FreeBSD.org] 维护的 ports 不是由某个特定的人维护的。相反，任何修复和支持都来自于订阅了该邮件列表的广大社区。我们总是需要更多的志愿者！"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1342
msgid "If there is no response to the email, use Bugzilla to submit a bug report using the instructions in extref:{problem-reports}[Writing FreeBSD Problem Reports]."
msgstr "如果电子邮件没有得到回应，请使用 Bugzilla 按照 extref:{problem-reports}[Writing FreeBSD Problem Reports] 中的说明提交一份错误报告。"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1343
msgid "Fix it! The extref:{porters-handbook}[Porter's Handbook] includes detailed information on the ports infrastructure so that you can fix the occasional broken port or even submit your own!"
msgstr "修复它！ extref:{porters-handbook}[Porter's Handbook] 中有包括关于 ports 基础设施的详细信息，这样你就可以修复偶尔坏掉的 port，甚至提交你自己的 port！"

#. type: Plain text
#: content/zh-cn/books/handbook/ports/_index.adoc:1343
msgid "Install the package instead of the port using the instructions in <<pkgng-intro>>."
msgstr "使用安装 pkg 二进制管理程序中的说明来安装软件包，而不是使用 ports 来安装。"
